{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/natha/OneDrive/Desktop/infantguardadmin/src/components/footer.tsx"],"sourcesContent":["import React from \"react\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"col-span-2 bg-gray-800 text-white p-2 text-center sticky bottom-0\">\r\n      Infant Guard Capstone Project 2025\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n"],"names":[],"mappings":";;;;;AAEA,MAAM,SAAS;IACb,qBACE,6LAAC;QAAO,WAAU;kBAAoE;;;;;;AAI1F;KANM;uCAQS"}},
    {"offset": {"line": 29, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 35, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/natha/OneDrive/Desktop/infantguardadmin/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\r\nimport { twMerge } from \"tailwind-merge\"\r\n\r\nexport function cn(...inputs: ClassValue[]) {\r\n  return twMerge(clsx(inputs))\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB"}},
    {"offset": {"line": 48, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 54, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/natha/OneDrive/Desktop/infantguardadmin/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport { Slot } from \"@radix-ui/react-slot\"\r\nimport { cva, type VariantProps } from \"class-variance-authority\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst buttonVariants = cva(\r\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\r\n  {\r\n    variants: {\r\n      variant: {\r\n        default: \"bg-primary text-primary-foreground hover:bg-primary/90\",\r\n        destructive:\r\n          \"bg-destructive text-destructive-foreground hover:bg-destructive/90\",\r\n        outline:\r\n          \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\",\r\n        secondary:\r\n          \"bg-secondary text-secondary-foreground hover:bg-secondary/80\",\r\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\r\n        link: \"text-primary underline-offset-4 hover:underline\",\r\n      },\r\n      size: {\r\n        default: \"h-10 px-4 py-2\",\r\n        sm: \"h-9 rounded-md px-3\",\r\n        lg: \"h-11 rounded-md px-8\",\r\n        icon: \"h-10 w-10\",\r\n      },\r\n    },\r\n    defaultVariants: {\r\n      variant: \"default\",\r\n      size: \"default\",\r\n    },\r\n  }\r\n)\r\n\r\nexport interface ButtonProps\r\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\r\n    VariantProps<typeof buttonVariants> {\r\n  asChild?: boolean\r\n}\r\n\r\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\r\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\r\n    const Comp = asChild ? Slot : \"button\"\r\n    return (\r\n      <Comp\r\n        className={cn(buttonVariants({ variant, size, className }))}\r\n        ref={ref}\r\n        {...props}\r\n      />\r\n    )\r\n  }\r\n)\r\nButton.displayName = \"Button\"\r\n\r\nexport { Button, buttonVariants }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AAEA;AAHA;;;;;;AAKA,MAAM,iBAAiB,CAAA,GAAA,mKAAA,CAAA,MAAG,AAAD,EACvB,4VACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,8JAAM,UAAU,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,mKAAA,CAAA,OAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 115, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/natha/OneDrive/Desktop/infantguardadmin/src/components/logoutBtn.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport { Button } from \"./ui/button\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { useAuth } from \"@/context/AuthContextProvider\";\r\n\r\nexport default function LogoutBtn() {\r\n  const { updateAuthToken } = useAuth();\r\n  const router = useRouter();\r\n  const deleteToken = () => {\r\n    return localStorage.removeItem(\"authToken\");\r\n  };\r\n\r\n  const handlePress = async () => {\r\n    deleteToken();\r\n    await updateAuthToken(null);\r\n    router.replace(\"/auth/login\");\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button\r\n        onClick={handlePress}\r\n        variant={\"secondary\"}\r\n        size={\"lg\"}\r\n        className=\"bg-[#23966d]\"\r\n      >\r\n        Logout\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;;;AALA;;;;AAOe,SAAS;;IACtB,MAAM,EAAE,eAAe,EAAE,GAAG,CAAA,GAAA,yIAAA,CAAA,UAAO,AAAD;IAClC,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,cAAc;QAClB,OAAO,aAAa,UAAU,CAAC;IACjC;IAEA,MAAM,cAAc;QAClB;QACA,MAAM,gBAAgB;QACtB,OAAO,OAAO,CAAC;IACjB;IAEA,qBACE,6LAAC;kBACC,cAAA,6LAAC,qIAAA,CAAA,SAAM;YACL,SAAS;YACT,SAAS;YACT,MAAM;YACN,WAAU;sBACX;;;;;;;;;;;AAKP;GAzBwB;;QACM,yIAAA,CAAA,UAAO;QACpB,qIAAA,CAAA,YAAS;;;KAFF"}},
    {"offset": {"line": 176, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 182, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/natha/OneDrive/Desktop/infantguardadmin/src/components/sidebar.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React from \"react\";\r\nimport LogoutBtn from \"./logoutBtn\";\r\nimport { usePathname, useRouter } from \"next/navigation\";\r\n\r\nconst Sidebar = () => {\r\n  const router = useRouter();\r\n  const currentPath = usePathname();\r\n\r\n  const handleTabClick = (path: string) => {\r\n    router.push(path);\r\n  };\r\n\r\n  // Add path aliases if needed (e.g. root path -> /home)\r\n  const isHomeActive = currentPath === \"/\" || currentPath === \"/home\";\r\n\r\n  return (\r\n    <aside className=\"bg-[#ffbd5f] text-black p-3 h-full sticky top-0\">\r\n      <p className=\"mb-20 text-2xl font-bold\">Admin Dashboard</p>\r\n      <nav className=\"flex flex-col gap-2\">\r\n        <button\r\n          onClick={() => handleTabClick(\"/home\")}\r\n          className={`px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-200 text-left text-lg font-bold ${\r\n            isHomeActive ? \"bg-gray-800 text-blue-400\" : \"\"\r\n          }`}\r\n        >\r\n          Home\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => handleTabClick(\"/home/parent\")}\r\n          className={`px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-200 text-left text-lg font-bold ${\r\n            currentPath === \"/home/parent\" ? \"bg-gray-800 text-blue-400\" : \"\"\r\n          }`}\r\n        >\r\n          Parent Management\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => handleTabClick(\"/home/infant\")}\r\n          className={`px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-200 text-left text-lg font-bold ${\r\n            currentPath === \"/home/infant\" ? \"bg-gray-800 text-blue-400\" : \"\"\r\n          }`}\r\n        >\r\n          Infant Management\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => handleTabClick(\"/home/vaccine\")}\r\n          className={`px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-200 text-left text-lg font-bold ${\r\n            currentPath === \"/home/vaccine\" ? \"bg-gray-800 text-blue-400\" : \"\"\r\n          }`}\r\n        >\r\n          Download Data\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => handleTabClick(\"/home/about\")}\r\n          className={`px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-200 text-left text-lg font-bold ${\r\n            currentPath === \"/about\" ? \"bg-gray-800 text-blue-400\" : \"\"\r\n          }`}\r\n        >\r\n          Download Vaccine Form\r\n        </button>\r\n\r\n        <button\r\n          onClick={() => handleTabClick(\"/contact\")}\r\n          className={`px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-200 text-left text-lg font-bold ${\r\n            currentPath === \"/contact\" ? \"bg-gray-800 text-blue-400\" : \"\"\r\n          }`}\r\n        >\r\n          Contact Us\r\n        </button>\r\n      </nav>\r\n      <div className=\"mt-10 align-middle\">\r\n        <LogoutBtn />\r\n      </div>\r\n    </aside>\r\n  );\r\n};\r\n\r\nexport default Sidebar;\r\n"],"names":[],"mappings":";;;;AAGA;AACA;;;AAJA;;;AAMA,MAAM,UAAU;;IACd,MAAM,SAAS,CAAA,GAAA,qIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,cAAc,CAAA,GAAA,qIAAA,CAAA,cAAW,AAAD;IAE9B,MAAM,iBAAiB,CAAC;QACtB,OAAO,IAAI,CAAC;IACd;IAEA,uDAAuD;IACvD,MAAM,eAAe,gBAAgB,OAAO,gBAAgB;IAE5D,qBACE,6LAAC;QAAM,WAAU;;0BACf,6LAAC;gBAAE,WAAU;0BAA2B;;;;;;0BACxC,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,SAAS,IAAM,eAAe;wBAC9B,WAAW,CAAC,+FAA+F,EACzG,eAAe,8BAA8B,IAC7C;kCACH;;;;;;kCAID,6LAAC;wBACC,SAAS,IAAM,eAAe;wBAC9B,WAAW,CAAC,+FAA+F,EACzG,gBAAgB,iBAAiB,8BAA8B,IAC/D;kCACH;;;;;;kCAID,6LAAC;wBACC,SAAS,IAAM,eAAe;wBAC9B,WAAW,CAAC,+FAA+F,EACzG,gBAAgB,iBAAiB,8BAA8B,IAC/D;kCACH;;;;;;kCAID,6LAAC;wBACC,SAAS,IAAM,eAAe;wBAC9B,WAAW,CAAC,+FAA+F,EACzG,gBAAgB,kBAAkB,8BAA8B,IAChE;kCACH;;;;;;kCAID,6LAAC;wBACC,SAAS,IAAM,eAAe;wBAC9B,WAAW,CAAC,+FAA+F,EACzG,gBAAgB,WAAW,8BAA8B,IACzD;kCACH;;;;;;kCAID,6LAAC;wBACC,SAAS,IAAM,eAAe;wBAC9B,WAAW,CAAC,+FAA+F,EACzG,gBAAgB,aAAa,8BAA8B,IAC3D;kCACH;;;;;;;;;;;;0BAIH,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC,kIAAA,CAAA,UAAS;;;;;;;;;;;;;;;;AAIlB;GA1EM;;QACW,qIAAA,CAAA,YAAS;QACJ,qIAAA,CAAA,cAAW;;;KAF3B;uCA4ES"}},
    {"offset": {"line": 308, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 314, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/natha/OneDrive/Desktop/infantguardadmin/src/app/home/infant/details/InformationCard.tsx"],"sourcesContent":["// components/InformationCard.tsx\r\nexport default function InformationCard({\r\n  title,\r\n  children,\r\n}: {\r\n  title: string;\r\n  children: React.ReactNode;\r\n}) {\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">{title}</h2>\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;;AAClB,SAAS,gBAAgB,EACtC,KAAK,EACL,QAAQ,EAIT;IACC,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA2B;;;;;;YACxC;;;;;;;AAGP;KAbwB"}},
    {"offset": {"line": 346, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 352, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/natha/OneDrive/Desktop/infantguardadmin/src/app/home/infant/details/VaccineChart.tsx"],"sourcesContent":["// components/VaccineChart.tsx\r\nimport {\r\n  BarChart,\r\n  Bar,\r\n  XAxis,\r\n  YAxis,\r\n  CartesianGrid,\r\n  Tooltip,\r\n  ResponsiveContainer,\r\n} from \"recharts\";\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nexport default function VaccineChart({ data }: { data: any[] }) {\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-md p-6 overflow-x-auto\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Vaccine Status Graph</h2>\r\n      <div style={{ minWidth: \"600px\" }}>\r\n        <ResponsiveContainer width=\"100%\" height={500}>\r\n          <BarChart\r\n            data={data}\r\n            margin={{ top: 20, right: 20, left: 60, bottom: 80 }}\r\n          >\r\n            <CartesianGrid strokeDasharray=\"3 3\" />\r\n            <XAxis\r\n              dataKey=\"vaccine\"\r\n              tick={{ angle: -10, textAnchor: \"end\", fontSize: 12 }}\r\n              interval={0}\r\n            />\r\n            <YAxis\r\n              domain={[0, 100]}\r\n              label={{\r\n                value: \"Percentage\",\r\n                angle: -90,\r\n                position: \"insideLeft\",\r\n                offset: 10,\r\n                fontSize: 14,\r\n              }}\r\n            />\r\n            <Tooltip />\r\n            <Bar dataKey=\"percentage\" fill=\"#FF6B6B\" barSize={50} />\r\n          </BarChart>\r\n        </ResponsiveContainer>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,8BAA8B;;;;;AAC9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;AAWe,SAAS,aAAa,EAAE,IAAI,EAAmB;IAC5D,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA0B;;;;;;0BACxC,6LAAC;gBAAI,OAAO;oBAAE,UAAU;gBAAQ;0BAC9B,cAAA,6LAAC,sKAAA,CAAA,sBAAmB;oBAAC,OAAM;oBAAO,QAAQ;8BACxC,cAAA,6LAAC,uJAAA,CAAA,WAAQ;wBACP,MAAM;wBACN,QAAQ;4BAAE,KAAK;4BAAI,OAAO;4BAAI,MAAM;4BAAI,QAAQ;wBAAG;;0CAEnD,6LAAC,gKAAA,CAAA,gBAAa;gCAAC,iBAAgB;;;;;;0CAC/B,6LAAC,wJAAA,CAAA,QAAK;gCACJ,SAAQ;gCACR,MAAM;oCAAE,OAAO,CAAC;oCAAI,YAAY;oCAAO,UAAU;gCAAG;gCACpD,UAAU;;;;;;0CAEZ,6LAAC,wJAAA,CAAA,QAAK;gCACJ,QAAQ;oCAAC;oCAAG;iCAAI;gCAChB,OAAO;oCACL,OAAO;oCACP,OAAO,CAAC;oCACR,UAAU;oCACV,QAAQ;oCACR,UAAU;gCACZ;;;;;;0CAEF,6LAAC,0JAAA,CAAA,UAAO;;;;;0CACR,6LAAC,sJAAA,CAAA,MAAG;gCAAC,SAAQ;gCAAa,MAAK;gCAAU,SAAS;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAM9D;KAjCwB"}},
    {"offset": {"line": 474, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 480, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/natha/OneDrive/Desktop/infantguardadmin/src/app/home/infant/details/PredictiveAnalysis.tsx"],"sourcesContent":["// PredictiveAnalysis.tsx\r\nimport React from \"react\";\r\n\r\ntype InfantData = {\r\n  fullname: string;\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  Vaccination_Schedule: any[];\r\n  // … add more types as needed\r\n};\r\n\r\nexport default function PredictiveAnalysis({\r\n  infantData,\r\n}: {\r\n  infantData: InfantData;\r\n}) {\r\n  const schedules = infantData?.Vaccination_Schedule;\r\n  if (!schedules || schedules.length === 0) {\r\n    return (\r\n      <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n        <h2 className=\"text-2xl font-bold mb-4\">Predictive Analysis</h2>\r\n        <p>No vaccination schedule available for prediction.</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // ------------------------------\r\n  // 1. Compliance Analysis Variables\r\n  // ------------------------------\r\n  const compliances: number[] = [];\r\n  let highComplianceCount = 0;\r\n  let moderateComplianceCount = 0;\r\n  let lowComplianceCount = 0;\r\n\r\n  // ------------------------------\r\n  // 2. Timeliness Score Variables\r\n  // ------------------------------\r\n  let totalTimelinessScore = 0;\r\n  let timelinessRemarkCount = 0;\r\n  // helper function to score the remarks\r\n  const scoreRemark = (remark: string | null): number => {\r\n    if (remark === \"ON_TIME\") return 1;\r\n    if (remark === \"EARLY\") return -0.5;\r\n    if (remark === \"LATE\") return -1;\r\n    return 0;\r\n  };\r\n\r\n  // ------------------------------\r\n  // 3. Vaccination Completion Variables\r\n  // ------------------------------\r\n  let totalExpectedDoses = 0;\r\n  let totalCompletedDoses = 0;\r\n\r\n  // Loop over each schedule\r\n  schedules.forEach((schedule) => {\r\n    // Get the compliance percentage from the first Vaccination record (if available)\r\n    const vaccinationRecord = schedule.Vaccination?.[0];\r\n    const compliance = vaccinationRecord?.percentage;\r\n    if (typeof compliance === \"number\") {\r\n      compliances.push(compliance);\r\n      if (compliance >= 80) {\r\n        highComplianceCount++;\r\n      } else if (compliance >= 50) {\r\n        moderateComplianceCount++;\r\n      } else {\r\n        lowComplianceCount++;\r\n      }\r\n    }\r\n\r\n    // Calculate timeliness score using the remarks on each dose from the schedule itself\r\n    // (if a remark is missing, we ignore it)\r\n    [\"remark_FirstDose\", \"remark_SecondDose\", \"remark_ThirdDose\"].forEach(\r\n      (key) => {\r\n        const remark = schedule[key];\r\n        if (remark) {\r\n          totalTimelinessScore += scoreRemark(remark);\r\n          timelinessRemarkCount++;\r\n        }\r\n      }\r\n    );\r\n\r\n    // Calculate expected doses based on the vaccine's frequency.\r\n    // (Assuming the first vaccine name object contains a 'frequency' property)\r\n    const expectedDoses = Number(schedule.vaccine_names?.[0]?.frequency) || 0;\r\n    totalExpectedDoses += expectedDoses;\r\n\r\n    // Calculate completed doses by checking each dose status in the vaccination record.\r\n    let completed = 0;\r\n    if (vaccinationRecord) {\r\n      // Only count the doses that exist; sometimes a vaccine may only require 1 or 2 doses.\r\n      if (\r\n        schedule.vaccine_names?.[0]?.frequency >= 1 &&\r\n        vaccinationRecord.firstDoseStatus === \"DONE\"\r\n      ) {\r\n        completed++;\r\n      }\r\n      if (\r\n        schedule.vaccine_names?.[0]?.frequency >= 2 &&\r\n        vaccinationRecord.secondDoseStatus === \"DONE\"\r\n      ) {\r\n        completed++;\r\n      }\r\n      if (\r\n        schedule.vaccine_names?.[0]?.frequency >= 3 &&\r\n        vaccinationRecord.thirdDoseStatus === \"DONE\"\r\n      ) {\r\n        completed++;\r\n      }\r\n    }\r\n    totalCompletedDoses += completed;\r\n  });\r\n\r\n  // Compute average compliance\r\n  const totalCompliance = compliances.reduce((acc, curr) => acc + curr, 0);\r\n  const averageCompliance = totalCompliance / compliances.length;\r\n\r\n  // Compute standard deviation for compliance percentages\r\n  const variance =\r\n    compliances.reduce(\r\n      (acc, curr) => acc + Math.pow(curr - averageCompliance, 2),\r\n      0\r\n    ) / compliances.length;\r\n  const stdDeviation = Math.sqrt(variance);\r\n\r\n  // Compute average timeliness score (if there are any remarks)\r\n  const averageTimelinessScore =\r\n    timelinessRemarkCount > 0\r\n      ? totalTimelinessScore / timelinessRemarkCount\r\n      : 0;\r\n\r\n  // Compute overall vaccination completion rate\r\n  const vaccinationCompletionRate =\r\n    totalExpectedDoses > 0\r\n      ? (totalCompletedDoses / totalExpectedDoses) * 100\r\n      : 0;\r\n\r\n  // ------------------------------\r\n  // 4. Building the Predictive Outcome Message\r\n  // ------------------------------\r\n  let predictedOutcome = \"\";\r\n\r\n  // For example, we might combine our variables into a prediction:\r\n  if (averageCompliance >= 90 && vaccinationCompletionRate === 100) {\r\n    predictedOutcome =\r\n      \"Excellent: The infant has maintained exceptional compliance with all vaccinations. Every dose has been completed on time with a perfect vaccination completion rate.\";\r\n  } else if (\r\n    averageCompliance >= 80 &&\r\n    vaccinationCompletionRate >= 90 &&\r\n    averageTimelinessScore >= 0\r\n  ) {\r\n    predictedOutcome =\r\n      \"High: The overall compliance is strong and most doses are completed on schedule. There is minor room for improvement in timeliness.\";\r\n  } else if (averageCompliance >= 70 || moderateComplianceCount > 0) {\r\n    predictedOutcome =\r\n      \"Moderate: The infant has a moderate likelihood of completing the vaccination schedule on time. Some doses may be at risk of delay, and targeted follow-ups are recommended.\";\r\n  } else if (averageCompliance >= 50) {\r\n    predictedOutcome =\r\n      \"Low-Moderate: There are concerns with the vaccination progress. Although some doses are completed, the lower average compliance and incomplete doses suggest that more proactive reminders and support are needed.\";\r\n  } else {\r\n    predictedOutcome =\r\n      \"Low: The vaccination compliance is poor. A significant number of doses are either incomplete or delayed, indicating that immediate intervention is required.\";\r\n  }\r\n\r\n  // Adjust the outcome based on the variability of compliance and timeliness\r\n  if (stdDeviation > 20) {\r\n    predictedOutcome +=\r\n      \" However, there is significant variability in the compliance percentages, which may indicate inconsistencies between different vaccines.\";\r\n  }\r\n  if (averageTimelinessScore < 0) {\r\n    predictedOutcome +=\r\n      \" Additionally, the timeliness score suggests that vaccines are often administered earlier or later than scheduled.\";\r\n  }\r\n  if (vaccinationCompletionRate < 90) {\r\n    predictedOutcome +=\r\n      \" The overall completion rate is below optimal levels, highlighting potential gaps in the vaccination schedule.\";\r\n  }\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-md p-6\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">Predictive Analysis</h2>\r\n      <p className=\"mb-4\">\r\n        <span className=\"font-semibold\">Average Vaccination Compliance:</span>{\" \"}\r\n        {averageCompliance.toFixed(2)}%\r\n      </p>\r\n      <p className=\"mb-4\">\r\n        <span className=\"font-semibold\">Standard Deviation:</span>{\" \"}\r\n        {stdDeviation.toFixed(2)}\r\n      </p>\r\n      <p className=\"mb-4\">\r\n        <span className=\"font-semibold\">High Compliance (≥80%):</span>{\" \"}\r\n        {highComplianceCount}\r\n      </p>\r\n      <p className=\"mb-4\">\r\n        <span className=\"font-semibold\">Moderate Compliance (50%-79%):</span>{\" \"}\r\n        {moderateComplianceCount}\r\n      </p>\r\n      <p className=\"mb-4\">\r\n        <span className=\"font-semibold\">Low Compliance (&lt;50%):</span>{\" \"}\r\n        {lowComplianceCount}\r\n      </p>\r\n      <p className=\"mb-4\">\r\n        <span className=\"font-semibold\">Average Timeliness Score:</span>{\" \"}\r\n        {averageTimelinessScore.toFixed(2)}\r\n      </p>\r\n      <p className=\"mb-4\">\r\n        <span className=\"font-semibold\">Vaccination Completion Rate:</span>{\" \"}\r\n        {vaccinationCompletionRate.toFixed(2)}%\r\n      </p>\r\n      <p>{predictedOutcome}</p>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 788, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 794, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/natha/OneDrive/Desktop/infantguardadmin/src/app/home/infant/details/utils.ts"],"sourcesContent":["export const formatDate = (dateString: string) => {\r\n  const date = new Date(dateString);\r\n  return date.toLocaleDateString(\"en-US\", {\r\n    year: \"numeric\",\r\n    month: \"long\",\r\n    day: \"numeric\",\r\n  });\r\n};\r\n\r\nexport const getMonthName = (monthNumber: number) => {\r\n  const date = new Date();\r\n  date.setMonth(monthNumber - 1);\r\n  return date.toLocaleString(\"en-US\", { month: \"long\" });\r\n};\r\n"],"names":[],"mappings":";;;;AAAO,MAAM,aAAa,CAAC;IACzB,MAAM,OAAO,IAAI,KAAK;IACtB,OAAO,KAAK,kBAAkB,CAAC,SAAS;QACtC,MAAM;QACN,OAAO;QACP,KAAK;IACP;AACF;AAEO,MAAM,eAAe,CAAC;IAC3B,MAAM,OAAO,IAAI;IACjB,KAAK,QAAQ,CAAC,cAAc;IAC5B,OAAO,KAAK,cAAc,CAAC,SAAS;QAAE,OAAO;IAAO;AACtD"}},
    {"offset": {"line": 816, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 822, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/natha/OneDrive/Desktop/infantguardadmin/src/components/ui/popover.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as PopoverPrimitive from \"@radix-ui/react-popover\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nconst Popover = PopoverPrimitive.Root\r\n\r\nconst PopoverTrigger = PopoverPrimitive.Trigger\r\n\r\nconst PopoverContent = React.forwardRef<\r\n  React.ElementRef<typeof PopoverPrimitive.Content>,\r\n  React.ComponentPropsWithoutRef<typeof PopoverPrimitive.Content>\r\n>(({ className, align = \"center\", sideOffset = 4, ...props }, ref) => (\r\n  <PopoverPrimitive.Portal>\r\n    <PopoverPrimitive.Content\r\n      ref={ref}\r\n      align={align}\r\n      sideOffset={sideOffset}\r\n      className={cn(\r\n        \"z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\r\n        className\r\n      )}\r\n      {...props}\r\n    />\r\n  </PopoverPrimitive.Portal>\r\n))\r\nPopoverContent.displayName = PopoverPrimitive.Content.displayName\r\n\r\nexport { Popover, PopoverTrigger, PopoverContent }\r\n"],"names":[],"mappings":";;;;;;AAEA;AAGA;AAFA;AAHA;;;;;AAOA,MAAM,UAAU,uKAAiB,IAAI;AAErC,MAAM,iBAAiB,uKAAiB,OAAO;AAE/C,MAAM,+BAAiB,8JAAM,UAAU,MAGrC,CAAC,EAAE,SAAS,EAAE,QAAQ,QAAQ,EAAE,aAAa,CAAC,EAAE,GAAG,OAAO,EAAE,oBAC5D,6LAAC,uKAAiB,MAAM;kBACtB,cAAA,6LAAC,uKAAiB,OAAO;YACvB,KAAK;YACL,OAAO;YACP,YAAY;YACZ,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACV,8aACA;YAED,GAAG,KAAK;;;;;;;;;;;;AAIf,eAAe,WAAW,GAAG,uKAAiB,OAAO,CAAC,WAAW"}},
    {"offset": {"line": 864, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 870, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/natha/OneDrive/Desktop/infantguardadmin/src/components/ui/calendar.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport { ChevronLeft, ChevronRight } from \"lucide-react\"\r\nimport { DayPicker } from \"react-day-picker\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\nimport { buttonVariants } from \"@/components/ui/button\"\r\n\r\nexport type CalendarProps = React.ComponentProps<typeof DayPicker>\r\n\r\nfunction Calendar({\r\n  className,\r\n  classNames,\r\n  showOutsideDays = true,\r\n  ...props\r\n}: CalendarProps) {\r\n  return (\r\n    <DayPicker\r\n      showOutsideDays={showOutsideDays}\r\n      className={cn(\"p-3\", className)}\r\n      classNames={{\r\n        months: \"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0\",\r\n        month: \"space-y-4\",\r\n        caption: \"flex justify-center pt-1 relative items-center\",\r\n        caption_label: \"text-sm font-medium\",\r\n        nav: \"space-x-1 flex items-center\",\r\n        nav_button: cn(\r\n          buttonVariants({ variant: \"outline\" }),\r\n          \"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100\"\r\n        ),\r\n        nav_button_previous: \"absolute left-1\",\r\n        nav_button_next: \"absolute right-1\",\r\n        table: \"w-full border-collapse space-y-1\",\r\n        head_row: \"flex\",\r\n        head_cell:\r\n          \"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]\",\r\n        row: \"flex w-full mt-2\",\r\n        cell: \"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20\",\r\n        day: cn(\r\n          buttonVariants({ variant: \"ghost\" }),\r\n          \"h-9 w-9 p-0 font-normal aria-selected:opacity-100\"\r\n        ),\r\n        day_range_end: \"day-range-end\",\r\n        day_selected:\r\n          \"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground\",\r\n        day_today: \"bg-accent text-accent-foreground\",\r\n        day_outside:\r\n          \"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground\",\r\n        day_disabled: \"text-muted-foreground opacity-50\",\r\n        day_range_middle:\r\n          \"aria-selected:bg-accent aria-selected:text-accent-foreground\",\r\n        day_hidden: \"invisible\",\r\n        ...classNames,\r\n      }}\r\n      components={{\r\n        IconLeft: ({ className, ...props }) => (\r\n          <ChevronLeft className={cn(\"h-4 w-4\", className)} {...props} />\r\n        ),\r\n        IconRight: ({ className, ...props }) => (\r\n          <ChevronRight className={cn(\"h-4 w-4\", className)} {...props} />\r\n        ),\r\n      }}\r\n      {...props}\r\n    />\r\n  )\r\n}\r\nCalendar.displayName = \"Calendar\"\r\n\r\nexport { Calendar }\r\n"],"names":[],"mappings":";;;;AAIA;AAEA;AACA;AAJA;AAAA;AAHA;;;;;;AAWA,SAAS,SAAS,EAChB,SAAS,EACT,UAAU,EACV,kBAAkB,IAAI,EACtB,GAAG,OACW;IACd,qBACE,6LAAC,iKAAA,CAAA,YAAS;QACR,iBAAiB;QACjB,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,OAAO;QACrB,YAAY;YACV,QAAQ;YACR,OAAO;YACP,SAAS;YACT,eAAe;YACf,KAAK;YACL,YAAY,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACX,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE,SAAS;YAAU,IACpC;YAEF,qBAAqB;YACrB,iBAAiB;YACjB,OAAO;YACP,UAAU;YACV,WACE;YACF,KAAK;YACL,MAAM;YACN,KAAK,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EACJ,CAAA,GAAA,qIAAA,CAAA,iBAAc,AAAD,EAAE;gBAAE,SAAS;YAAQ,IAClC;YAEF,eAAe;YACf,cACE;YACF,WAAW;YACX,aACE;YACF,cAAc;YACd,kBACE;YACF,YAAY;YACZ,GAAG,UAAU;QACf;QACA,YAAY;YACV,UAAU,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBAChC,6LAAC,uNAAA,CAAA,cAAW;oBAAC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,WAAW;oBAAa,GAAG,KAAK;;;;;;YAE7D,WAAW,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,iBACjC,6LAAC,yNAAA,CAAA,eAAY;oBAAC,WAAW,CAAA,GAAA,sHAAA,CAAA,KAAE,AAAD,EAAE,WAAW;oBAAa,GAAG,KAAK;;;;;;QAEhE;QACC,GAAG,KAAK;;;;;;AAGf;KAvDS;AAwDT,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 950, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 956, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/natha/OneDrive/Desktop/infantguardadmin/src/app/home/infant/details/VaccinationModal.tsx"],"sourcesContent":["// components/VaccinationModal.tsx\r\n\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { formatDate } from \"./utils\";\r\n\r\n// ShadCN UI components – adjust the paths as needed.\r\nimport {\r\n  Popover,\r\n  PopoverContent,\r\n  PopoverTrigger,\r\n} from \"@/components/ui/popover\";\r\nimport { Calendar } from \"@/components/ui/calendar\";\r\nimport { Button } from \"@/components/ui/button\";\r\n\r\nexport default function VaccinationModal({\r\n  isOpen,\r\n  onClose,\r\n  schedules,\r\n  handleUpdate,\r\n  handleNotify,\r\n}: {\r\n  isOpen: boolean;\r\n  onClose: () => void;\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  schedules: any[];\r\n  handleUpdate: (\r\n    dose: string,\r\n    vaccineId: string | undefined,\r\n    vaccineName: string,\r\n    scheduledDate: string,\r\n    schedId: string | undefined\r\n  ) => void;\r\n  handleNotify: (title: string, body: string) => void;\r\n}) {\r\n  if (!isOpen) return null;\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 flex items-center justify-center z-50\">\r\n      <div\r\n        className=\"absolute inset-0 bg-black opacity-50\"\r\n        onClick={onClose}\r\n      ></div>\r\n      <div className=\"relative bg-white rounded-lg shadow-lg p-6 w-11/12 max-w-3xl z-50\">\r\n        <div className=\"flex justify-between items-center mb-4\">\r\n          <h2 className=\"text-2xl font-bold\">Vaccination Schedule</h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-gray-600 hover:text-gray-900 text-2xl font-bold\"\r\n          >\r\n            &times;\r\n          </button>\r\n        </div>\r\n        <div className=\"space-y-4 max-h-[70vh] overflow-y-auto\">\r\n          {schedules.map((schedule) => (\r\n            <VaccineScheduleItem\r\n              key={schedule.id}\r\n              schedule={schedule}\r\n              handleUpdate={handleUpdate}\r\n              handleNotify={handleNotify}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction VaccineScheduleItem({ schedule, handleUpdate, handleNotify }: any) {\r\n  return (\r\n    <div className=\"border rounded-lg p-4\">\r\n      <h3 className=\"font-semibold text-lg mb-2\">\r\n        {schedule.vaccine_names[0]?.vaccine_name}\r\n      </h3>\r\n      <div className=\"space-y-2\">\r\n        {[\"firstDose\", \"secondDose\", \"thirdDose\"].map(\r\n          (dose) =>\r\n            schedule[dose] && (\r\n              <DoseStatus\r\n                key={dose}\r\n                dose={dose}\r\n                schedule={schedule}\r\n                handleUpdate={handleUpdate}\r\n                handleNotify={handleNotify}\r\n              />\r\n            )\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nfunction DoseStatus({ dose, schedule, handleUpdate, handleNotify }: any) {\r\n  // Local state for the selected date from the calendar.\r\n  const [selectedDate, setSelectedDate] = useState<Date | null>(null);\r\n  // Local state to control the popover (calendar) open state.\r\n  const [open, setOpen] = useState(false);\r\n\r\n  // For display purposes: e.g. \"firstDose\" becomes \"first Dose\"\r\n  const doseLabel = dose.replace(\"Dose\", \" Dose\");\r\n  const status = schedule.Vaccination[0]?.[`${dose}Status`];\r\n  const vaccineName = schedule.vaccine_names[0]?.vaccine_name;\r\n  const scheduledDate = schedule[dose];\r\n\r\n  // Keys for the additional fields.\r\n  const updateKey = `Update${dose.charAt(0).toUpperCase() + dose.slice(1)}`;\r\n  const remarkKey = `remark_${dose.charAt(0).toUpperCase() + dose.slice(1)}`;\r\n  const updateDate = schedule[updateKey];\r\n  const remark = schedule[remarkKey];\r\n\r\n  // When the user confirms a date, format it as mm-dd-yyyy, call handleUpdate, and close the popover.\r\n  const handleDateConfirm = (date: Date) => {\r\n    // Reset the selected date.\r\n    setSelectedDate(null);\r\n    // Format the date as mm-dd-yyyy.\r\n    const mm = String(date.getMonth() + 1).padStart(2, \"0\");\r\n    const dd = String(date.getDate()).padStart(2, \"0\");\r\n    const yyyy = date.getFullYear();\r\n    const formattedDate = `${mm}-${dd}-${yyyy}`;\r\n\r\n    // Call the update handler.\r\n    handleUpdate(\r\n      `${dose}Status`,\r\n      schedule.Vaccination[0]?.id,\r\n      vaccineName,\r\n      formattedDate,\r\n      schedule?.id\r\n    );\r\n    // Close the popover.\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"border p-2 rounded-lg mb-2\">\r\n      <div className=\"flex justify-between items-center\">\r\n        <span>{doseLabel}:</span>\r\n        <span\r\n          className={`badge ${\r\n            status === \"DONE\"\r\n              ? \"bg-green-100 text-green-800\"\r\n              : \"bg-red-100 text-red-800\"\r\n          }`}\r\n        >\r\n          {formatDate(scheduledDate)} - {status || \"PENDING\"}\r\n        </span>\r\n        {/* Always show the Update button, but only show Remind if status is not \"DONE\" */}\r\n        <div className=\"flex gap-2\">\r\n          <Popover open={open} onOpenChange={setOpen}>\r\n            <PopoverTrigger asChild>\r\n              <Button className=\"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600\">\r\n                Update\r\n              </Button>\r\n            </PopoverTrigger>\r\n            <PopoverContent className=\"w-auto p-0\">\r\n              <Calendar\r\n                mode=\"single\"\r\n                selected={selectedDate!}\r\n                onSelect={setSelectedDate}\r\n                initialFocus\r\n              />\r\n              <div className=\"flex justify-end mt-2 gap-2 p-2\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  onClick={() => {\r\n                    setSelectedDate(null);\r\n                    setOpen(false);\r\n                  }}\r\n                >\r\n                  Cancel\r\n                </Button>\r\n                <Button\r\n                  onClick={() =>\r\n                    selectedDate && handleDateConfirm(selectedDate)\r\n                  }\r\n                  disabled={!selectedDate}\r\n                >\r\n                  Confirm\r\n                </Button>\r\n              </div>\r\n            </PopoverContent>\r\n          </Popover>\r\n          {status !== \"DONE\" && (\r\n            <Button\r\n              onClick={() =>\r\n                handleNotify(\r\n                  vaccineName,\r\n                  `${doseLabel} - ${formatDate(scheduledDate)}`\r\n                )\r\n              }\r\n              className=\"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600\"\r\n            >\r\n              Remind\r\n            </Button>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Display the updated date if it exists */}\r\n      {updateDate && (\r\n        <div className=\"mt-1 text-sm text-gray-600\">\r\n          <span className=\"font-semibold\">Updated: </span>\r\n          {formatDate(updateDate)}\r\n        </div>\r\n      )}\r\n\r\n      {/* Display the remark if it exists */}\r\n      {remark && (\r\n        <div className=\"text-sm text-gray-600\">\r\n          <span className=\"font-semibold\">Remark: </span>\r\n          {remark}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1298, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1304, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/natha/OneDrive/Desktop/infantguardadmin/src/app/home/infant/details/DoseTimingAnalysis.tsx"],"sourcesContent":["import React from \"react\";\r\n\r\ninterface VaccineName {\r\n  id: string;\r\n  vaccine_name: string;\r\n  vaccine_type_code: string;\r\n}\r\n\r\ninterface VaccineSchedule {\r\n  id: string;\r\n  firstDose?: string;\r\n  secondDose?: string;\r\n  thirdDose?: string;\r\n  UpdateFirstDose?: string;\r\n  UpdateSecondDose?: string;\r\n  UpdateThirdDose?: string;\r\n  vaccine_names?: VaccineName[];\r\n}\r\n\r\ninterface InfantData {\r\n  id: string;\r\n  fullname: string;\r\n  Vaccination_Schedule: VaccineSchedule[];\r\n}\r\n\r\ninterface DoseTimingAnalysisProps {\r\n  infantData: InfantData;\r\n}\r\n\r\nconst DoseTimingAnalysis: React.FC<DoseTimingAnalysisProps> = ({\r\n  infantData,\r\n}) => {\r\n  if (!infantData || !infantData.Vaccination_Schedule) {\r\n    return <div>No vaccination data available for analysis.</div>;\r\n  }\r\n\r\n  const schedules = infantData.Vaccination_Schedule;\r\n\r\n  let totalDoses = 0; // Only counts doses that have been administered\r\n  let earlyCount = 0;\r\n  let onTimeCount = 0;\r\n  let lateCount = 0;\r\n  const detailedResults: {\r\n    vaccine: string;\r\n    dose: string;\r\n    scheduled: string;\r\n    updated: string;\r\n    difference: number | null;\r\n    status: string;\r\n  }[] = [];\r\n\r\n  // Helper function to compute the difference in days between two dates.\r\n  const dayDifference = (scheduled: string, updated: string): number => {\r\n    const scheduledDate = new Date(scheduled);\r\n    const updatedDate = new Date(updated);\r\n    const diffTime = updatedDate.getTime() - scheduledDate.getTime();\r\n    const diffDays = diffTime / (1000 * 3600 * 24);\r\n    return Math.round(diffDays);\r\n  };\r\n\r\n  // Helper function to analyze one dose.\r\n  const analyzeDose = (\r\n    doseName: string,\r\n    scheduledDate?: string,\r\n    updatedDate?: string,\r\n    vaccineName?: string\r\n  ) => {\r\n    // Only analyze timing if the dose has been administered (both dates exist)\r\n    if (scheduledDate && updatedDate) {\r\n      totalDoses++;\r\n      const diff = dayDifference(scheduledDate, updatedDate);\r\n      let status = \"\";\r\n      if (diff === 0) {\r\n        status = \"ON TIME\";\r\n        onTimeCount++;\r\n      } else if (diff < 0) {\r\n        status = `EARLY by ${Math.abs(diff)} day${\r\n          Math.abs(diff) > 1 ? \"s\" : \"\"\r\n        }`;\r\n        earlyCount++;\r\n      } else {\r\n        status = `LATE by ${diff} day${diff > 1 ? \"s\" : \"\"}`;\r\n        lateCount++;\r\n      }\r\n      detailedResults.push({\r\n        vaccine: vaccineName || \"Unknown Vaccine\",\r\n        dose: doseName,\r\n        scheduled: scheduledDate,\r\n        updated: updatedDate,\r\n        difference: diff,\r\n        status,\r\n      });\r\n    } else if (scheduledDate && !updatedDate) {\r\n      // Optionally, if a dose is scheduled but not yet administered, add it as \"pending\"\r\n      detailedResults.push({\r\n        vaccine: vaccineName || \"Unknown Vaccine\",\r\n        dose: doseName,\r\n        scheduled: scheduledDate,\r\n        updated: \"Pending\",\r\n        difference: null,\r\n        status: \"PENDING\",\r\n      });\r\n    }\r\n  };\r\n\r\n  // Process each vaccination schedule.\r\n  schedules.forEach((schedule) => {\r\n    const vaccineName =\r\n      schedule.vaccine_names && schedule.vaccine_names.length > 0\r\n        ? schedule.vaccine_names[0].vaccine_name\r\n        : \"Unknown Vaccine\";\r\n\r\n    analyzeDose(\r\n      \"First Dose\",\r\n      schedule.firstDose,\r\n      schedule.UpdateFirstDose,\r\n      vaccineName\r\n    );\r\n    analyzeDose(\r\n      \"Second Dose\",\r\n      schedule.secondDose,\r\n      schedule.UpdateSecondDose,\r\n      vaccineName\r\n    );\r\n    analyzeDose(\r\n      \"Third Dose\",\r\n      schedule.thirdDose,\r\n      schedule.UpdateThirdDose,\r\n      vaccineName\r\n    );\r\n  });\r\n\r\n  // Calculate percentages using only doses that have been administered.\r\n  const administeredDoses = onTimeCount + earlyCount + lateCount;\r\n  const overallEarly =\r\n    administeredDoses > 0\r\n      ? ((earlyCount / administeredDoses) * 100).toFixed(1)\r\n      : \"0\";\r\n  const overallOnTime =\r\n    administeredDoses > 0\r\n      ? ((onTimeCount / administeredDoses) * 100).toFixed(1)\r\n      : \"0\";\r\n  const overallLate =\r\n    administeredDoses > 0\r\n      ? ((lateCount / administeredDoses) * 100).toFixed(1)\r\n      : \"0\";\r\n\r\n  // Build a mapping of unique vaccines along with their vaccine_type_code.\r\n  const uniqueVaccinesMap: { [vaccineName: string]: string } = {};\r\n  schedules.forEach((schedule) => {\r\n    if (schedule.vaccine_names && schedule.vaccine_names[0]) {\r\n      const vaccine = schedule.vaccine_names[0];\r\n      uniqueVaccinesMap[vaccine.vaccine_name] = vaccine.vaccine_type_code;\r\n    }\r\n  });\r\n\r\n  // Convert the mapping to an array of objects and sort by vaccine_type_code.\r\n  const uniqueVaccinesArray = Object.keys(uniqueVaccinesMap).map(\r\n    (vaccineName) => ({\r\n      vaccine_name: vaccineName,\r\n      vaccine_type_code: uniqueVaccinesMap[vaccineName],\r\n    })\r\n  );\r\n  uniqueVaccinesArray.sort(\r\n    (a, b) => parseInt(a.vaccine_type_code) - parseInt(b.vaccine_type_code)\r\n  );\r\n\r\n  // Mapping of vaccine names to potential effects if administered too early or too late.\r\n  const vaccineEffects: {\r\n    [key: string]: {\r\n      early: string;\r\n      late: string;\r\n    };\r\n  } = {\r\n    \"BGC Vaccine\": {\r\n      early:\r\n        \"Administering this vaccine too early may result in a suboptimal immune response as the infant's immune system might not be fully prepared, though slight deviations may be acceptable.\",\r\n      late: \"If administered late, the infant may remain vulnerable to the targeted infection for a longer period.\",\r\n    },\r\n    \"Hepatitis B Vaccine\": {\r\n      early:\r\n        \"Administering the Hepatitis B vaccine too early might lead to interference from maternal antibodies, potentially reducing its effectiveness.\",\r\n      late: \"A delay in administering the Hepatitis B vaccine could increase the risk of vertical transmission from mother to child.\",\r\n    },\r\n    \"Oral Polion Vaccine (OPV)\": {\r\n      early:\r\n        \"Early administration might not allow for optimal mucosal immunity if the infant's gut is not ready, and maternal antibodies may interfere with the response.\",\r\n      late: \"Late administration could leave the infant unprotected for a longer period, increasing the risk of poliovirus exposure.\",\r\n    },\r\n    \"Pentavalent Vaccine (DPT-HEB B-HIB)\": {\r\n      early:\r\n        \"If given too early, there may be reduced immunogenicity, and the infant might not mount a strong immune response.\",\r\n      late: \"Delayed administration could lead to a window of vulnerability to the diseases targeted by this vaccine.\",\r\n    },\r\n    \"Measles, Mumps, Rubella Vaccine (MMR)\": {\r\n      early:\r\n        \"Administering the MMR vaccine too early may result in interference from maternal antibodies, thereby reducing its effectiveness.\",\r\n      late: \"Late vaccination might result in a prolonged period of susceptibility to measles, mumps, and rubella, which is especially concerning during outbreaks.\",\r\n    },\r\n    \"Pneumococcal Conjugate Vaccine (PCV)\": {\r\n      early:\r\n        \"Administering the vaccine too early might lead to a less effective immune response due to the immaturity of the infant's immune system.\",\r\n      late: \"Delays in vaccination may leave the child at increased risk for pneumococcal infections, which can be serious in young infants.\",\r\n    },\r\n    \"Inactivated Polio Vaccine (IPV)\": {\r\n      early:\r\n        \"Early vaccination could potentially reduce the vaccine's efficacy if the infant's immune system hasn't matured enough, though it is generally safe.\",\r\n      late: \"Delayed doses may result in prolonged vulnerability to poliovirus infection.\",\r\n    },\r\n  };\r\n\r\n  // Helper to fetch potential effects based on vaccine name.\r\n  const getEffects = (vaccineName: string) => {\r\n    return (\r\n      vaccineEffects[vaccineName] || {\r\n        early: \"No specific data available for early administration.\",\r\n        late: \"No specific data available for delayed administration.\",\r\n      }\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-4 border rounded shadow bg-white my-4\">\r\n      <h2 className=\"text-2xl font-bold mb-4\">\r\n        Vaccination Dose Timing Analysis\r\n      </h2>\r\n\r\n      <div className=\"mb-4\">\r\n        <p>\r\n          <strong>Total Administered Doses Analyzed:</strong>{\" \"}\r\n          {administeredDoses}\r\n        </p>\r\n        <p>\r\n          <strong>Early Doses:</strong> {earlyCount} ({overallEarly}%)\r\n        </p>\r\n        <p>\r\n          <strong>On Time Doses:</strong> {onTimeCount} ({overallOnTime}%)\r\n        </p>\r\n        <p>\r\n          <strong>Late Doses:</strong> {lateCount} ({overallLate}%)\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"mb-4\">\r\n        <h3 className=\"text-xl font-semibold mb-2\">\r\n          Detailed Analysis per Dose:\r\n        </h3>\r\n        <ul>\r\n          {detailedResults.map((result, index) => (\r\n            <li key={index} className=\"mb-1\">\r\n              <span className=\"font-semibold\">\r\n                {result.vaccine} - {result.dose}:\r\n              </span>{\" \"}\r\n              Scheduled on{\" \"}\r\n              {result.scheduled !== \"Pending\"\r\n                ? new Date(result.scheduled).toLocaleDateString()\r\n                : \"Pending\"}\r\n              {result.updated !== \"Pending\"\r\n                ? `, updated on ${new Date(\r\n                    result.updated\r\n                  ).toLocaleDateString()}`\r\n                : \" (Not yet administered)\"}{\" \"}\r\n              ({result.status}\r\n              {result.difference !== null && result.status !== \"PENDING\"\r\n                ? ` by ${Math.abs(result.difference)} day${\r\n                    Math.abs(result.difference) !== 1 ? \"s\" : \"\"\r\n                  }`\r\n                : \"\"}\r\n              )\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n\r\n      <div className=\"border-t pt-4 mb-4\">\r\n        <h3 className=\"text-xl font-semibold mb-2\">Predictive Analysis:</h3>\r\n        <p>\r\n          Based on current trends, a significant percentage of doses have been\r\n          administered early. This proactive approach may shorten the window of\r\n          vulnerability; however, if a vaccine is administered too early, the\r\n          infant’s immune system may not generate an optimal response.\r\n          Conversely, late vaccination increases the period during which the\r\n          child is unprotected. Monitoring these patterns can help ensure that\r\n          future doses are timed for maximum efficacy.\r\n        </p>\r\n      </div>\r\n\r\n      <div className=\"border-t pt-4 mb-4\">\r\n        <h3 className=\"text-xl font-semibold mb-2\">\r\n          Potential Effects of Early or Late Vaccination:\r\n        </h3>\r\n        {uniqueVaccinesArray.map((vaccineObj, index) => {\r\n          const effects = getEffects(vaccineObj.vaccine_name);\r\n          return (\r\n            <div key={index} className=\"mb-3\">\r\n              <h4 className=\"font-bold\">{vaccineObj.vaccine_name}</h4>\r\n              <p>\r\n                <strong>If administered too early:</strong> {effects.early}\r\n              </p>\r\n              <p>\r\n                <strong>If administered too late:</strong> {effects.late}\r\n              </p>\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n\r\n      <div className=\"border-t pt-4\">\r\n        <h3 className=\"text-xl font-semibold mb-2\">References:</h3>\r\n        <ol className=\"list-decimal ml-5\">\r\n          <li>\r\n            Centers for Disease Control and Prevention.{\" \"}\r\n            <em>Timing and Spacing of Immunobiologics</em>.{\" \"}\r\n            <a\r\n              href=\"https://www.cdc.gov/vaccines/hcp/imz-best-practices/timing-spacing-immunobiologics.html\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"text-blue-600 hover:underline\"\r\n            >\r\n              https://www.cdc.gov/vaccines/hcp/imz-best-practices/timing-spacing-immunobiologics.html\r\n            </a>\r\n          </li>\r\n          <li>\r\n            Clark, A., Sanderson, C.{\" \"}\r\n            <em>\r\n              Timing of children's vaccinations in 45 low-income and\r\n              middle-income countries: an analysis of survey data\r\n            </em>\r\n            . The Lancet.{\" \"}\r\n            <a\r\n              href=\"https://pubmed.ncbi.nlm.nih.gov/2526419/\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"text-blue-600 hover:underline\"\r\n            >\r\n              https://pubmed.ncbi.nlm.nih.gov/2526419/\r\n            </a>\r\n          </li>\r\n          <li>\r\n            Centers for Disease Control and Prevention.{\" \"}\r\n            <em>\r\n              General Best Practice Guidelines for Immunization: Timing and\r\n              Spacing of Immunobiologics\r\n            </em>\r\n            .{\" \"}\r\n            <a\r\n              href=\"https://www.cdc.gov/vaccines/hcp/acip-recs/general-recs/timing.html\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"text-blue-600 hover:underline\"\r\n            >\r\n              https://www.cdc.gov/vaccines/hcp/acip-recs/general-recs/timing.html\r\n            </a>\r\n          </li>\r\n          <li>\r\n            World Health Organization. <em>Poliomyelitis</em>.{\" \"}\r\n            <a\r\n              href=\"https://www.who.int/news-room/fact-sheets/detail/poliomyelitis\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"text-blue-600 hover:underline\"\r\n            >\r\n              https://www.who.int/news-room/fact-sheets/detail/poliomyelitis\r\n            </a>\r\n          </li>\r\n        </ol>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DoseTimingAnalysis;\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1840, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1846, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/natha/OneDrive/Desktop/infantguardadmin/src/app/home/infant/details/page.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useCallback, useState } from \"react\";\r\nimport Footer from \"@/components/footer\";\r\nimport Sidebar from \"@/components/sidebar\";\r\nimport { useProtectedRoutesApi } from \"@/libraries/API/ProtectedRoute/secureRoutes\";\r\nimport { useMutation, useQuery, useQueryClient } from \"@tanstack/react-query\";\r\nimport { useRouter, useSearchParams } from \"next/navigation\";\r\nimport InformationCard from \"./InformationCard\";\r\nimport VaccineChart from \"./VaccineChart\";\r\nimport PredictiveAnalysis from \"./PredictiveAnalysis\";\r\nimport VaccinationModal from \"./VaccinationModal\";\r\nimport { formatDate, getMonthName } from \"./utils\";\r\nimport InfantDoseTimingAnalysis from \"./DoseTimingAnalysis\";\r\n\r\nexport default function InfantDetails() {\r\n  const router = useRouter();\r\n  const searchParams = useSearchParams();\r\n  const id = searchParams.get(\"id\");\r\n  const {\r\n    getOneInfantDetail,\r\n    updateVaccineStatus,\r\n    getPushToken,\r\n    updatVaccineSchedDate,\r\n  } = useProtectedRoutesApi();\r\n\r\n  const { data, isLoading, isError, error } = useQuery({\r\n    queryKey: [\"infant\", id],\r\n    queryFn: () => getOneInfantDetail(id as string),\r\n  });\r\n\r\n  const [isModalOpen, setIsModalOpen] = useState(false);\r\n  const queryClient = useQueryClient();\r\n\r\n  const updateVaccineDoseStatus = useMutation({\r\n    mutationFn: async ({\r\n      id,\r\n      doseType,\r\n      status,\r\n    }: {\r\n      id: string;\r\n      doseType: string;\r\n      status: string;\r\n    }) => {\r\n      console.log(\"Updating vaccine status with:\", { id, doseType, status });\r\n      return updateVaccineStatus(id, doseType, status);\r\n    },\r\n    onSuccess: () => {\r\n      console.log(\"Vaccine status updated successfully. Invalidating cache...\");\r\n      queryClient.invalidateQueries({ queryKey: [\"infant\", id] });\r\n      queryClient.invalidateQueries({ queryKey: [\"infants\"] });\r\n    },\r\n    onError: (err) => {\r\n      console.error(\"Mutation failed:\", err);\r\n    },\r\n  });\r\n\r\n  const sendNotifyMutation = useMutation({\r\n    mutationFn: async ({\r\n      infant_id,\r\n      title,\r\n      body,\r\n      data,\r\n    }: {\r\n      infant_id: string;\r\n      title: string;\r\n      body: string;\r\n      data: string;\r\n    }) => {\r\n      return getPushToken(infant_id, title, body, data);\r\n    },\r\n    onSuccess: () => {\r\n      queryClient.invalidateQueries({ queryKey: [\"infant\", id] });\r\n      queryClient.invalidateQueries({ queryKey: [\"infants\"] });\r\n    },\r\n    onError: (err) => {\r\n      console.error(\"Notification mutation failed:\", err);\r\n    },\r\n  });\r\n\r\n  const updateVaccineSchedDate = useMutation({\r\n    mutationFn: async ({\r\n      vaccineSchedule_id,\r\n      doseType,\r\n      date,\r\n    }: {\r\n      vaccineSchedule_id: string;\r\n      doseType: string;\r\n      date: string;\r\n    }) => {\r\n      console.log(\"Updating vaccine status with:\", { id, doseType, status });\r\n      return updatVaccineSchedDate(vaccineSchedule_id, doseType, date);\r\n    },\r\n    onSuccess: () => {\r\n      console.log(\"Vaccine status updated successfully. Invalidating cache...\");\r\n      queryClient.invalidateQueries({ queryKey: [\"infant\", id] });\r\n      queryClient.invalidateQueries({ queryKey: [\"infants\"] });\r\n    },\r\n    onError: (err) => {\r\n      console.error(\"Mutation failed:\", err);\r\n    },\r\n  });\r\n\r\n  const handleUpdate = useCallback(\r\n    async (\r\n      dose: string,\r\n      vaccineId: string | undefined,\r\n      vaccineName: string,\r\n      scheduledDate: string,\r\n      schedId: string | undefined\r\n    ) => {\r\n      if (!vaccineId) {\r\n        console.error(\"handleUpdate: Vaccine ID is undefined, cannot proceed.\");\r\n        return;\r\n      }\r\n      try {\r\n        // Prepare a nice label for the dose (optional)\r\n        let doseLabel;\r\n        let doseDateLabel;\r\n        if (dose === \"firstDoseStatus\") {\r\n          doseLabel = \"1st Dose\";\r\n          doseDateLabel = \"UpdateFirstDose\";\r\n        } else if (dose === \"secondDoseStatus\") {\r\n          doseLabel = \"2nd Dose\";\r\n          doseDateLabel = \"UpdateSecondDose\";\r\n        } else if (dose === \"thirdDoseStatus\") {\r\n          doseLabel = \"3rd Dose\";\r\n          doseDateLabel = \"UpdateThirdDose\";\r\n        } else {\r\n          doseLabel = dose;\r\n          doseDateLabel = dose;\r\n        }\r\n\r\n        // Update the vaccine status\r\n        await updateVaccineDoseStatus.mutateAsync({\r\n          id: vaccineId,\r\n          doseType: dose,\r\n          status: \"DONE\",\r\n        });\r\n\r\n        await updateVaccineSchedDate.mutateAsync({\r\n          vaccineSchedule_id: schedId!,\r\n          doseType: doseDateLabel,\r\n          date: scheduledDate,\r\n        });\r\n\r\n        console.log(\r\n          \"Vaccine status updated successfully, now sending notification...\"\r\n        );\r\n\r\n        // Build the notification details\r\n        const formattedDate = formatDate(scheduledDate);\r\n        const title = `Baby ${data?.data.fullname} his/her Vaccine Update: ${vaccineName}`;\r\n        const body = `${doseLabel} scheduled for ${formattedDate} is now marked as DONE.`;\r\n\r\n        // Send the notification\r\n        await sendNotifyMutation.mutateAsync({\r\n          infant_id: id!,\r\n          title,\r\n          body,\r\n          data: \"Vaccine Reminder\",\r\n        });\r\n      } catch (error) {\r\n        console.error(\r\n          \"handleUpdate: Error updating vaccine status or sending notification:\",\r\n          error\r\n        );\r\n      }\r\n    },\r\n    [\r\n      updateVaccineDoseStatus,\r\n      sendNotifyMutation,\r\n      id,\r\n      data,\r\n      updateVaccineSchedDate,\r\n    ]\r\n  );\r\n\r\n  const handleNotify = async (title: string, body: string) => {\r\n    try {\r\n      await sendNotifyMutation.mutateAsync({\r\n        infant_id: id!,\r\n        title: `Reminder for baby ${data?.data.fullname} his/her ${title}`,\r\n        body: `was scheduled for: ${body}`,\r\n        data: \"Vaccine Reminder\",\r\n      });\r\n    } catch (error) {\r\n      console.error(\"handleNotify: Error sending notification:\", error);\r\n    }\r\n  };\r\n\r\n  if (isLoading) return <div>Loading...</div>;\r\n  if (isError) return <div>Error: {error.message}</div>;\r\n\r\n  // eslint-disable-next-line @typescript-eslint/ban-ts-comment\r\n  //@ts-ignore\r\n  const infantData = data?.data;\r\n  const address = infantData?.address;\r\n  const birthday = infantData?.birthday;\r\n  const parent = infantData?.Parent;\r\n  const vaccinationSchedule = infantData?.Vaccination_Schedule;\r\n\r\n  // Sort the vaccination schedule array based on the vaccine type code\r\n  const sortedVaccinationSchedule = vaccinationSchedule\r\n    ? [...vaccinationSchedule].sort((a, b) => {\r\n        const codeA = Number(a.vaccine_names[0]?.vaccine_type_code || 0);\r\n        const codeB = Number(b.vaccine_names[0]?.vaccine_type_code || 0);\r\n        return codeA - codeB;\r\n      })\r\n    : [];\r\n\r\n  // Prepare data for the chart: for each schedule, extract the vaccine name and overall percentage\r\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n  const chartData = sortedVaccinationSchedule.map((schedule: any) => ({\r\n    vaccine: schedule.vaccine_names[0]?.vaccine_name,\r\n    percentage: schedule.Vaccination[0]?.percentage || 0,\r\n  }));\r\n\r\n  const isAllVaccinated = sortedVaccinationSchedule.every((schedule: any) => {\r\n    const frequency = schedule.vaccine_names[0]?.frequency;\r\n    if (frequency === 1) {\r\n      return !!schedule.UpdateFirstDose;\r\n    } else if (frequency === 2) {\r\n      return !!schedule.UpdateFirstDose && !!schedule.UpdateSecondDose;\r\n    } else if (frequency === 3) {\r\n      return (\r\n        !!schedule.UpdateFirstDose &&\r\n        !!schedule.UpdateSecondDose &&\r\n        !!schedule.UpdateThirdDose\r\n      );\r\n    }\r\n    return false;\r\n  });\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-[250px_1fr] grid-rows-[1fr_auto] min-h-screen\">\r\n      <Sidebar />\r\n\r\n      <main className=\"p-8 sm:p-20 font-[family-name:var(--font-geist-sans)] flex flex-col gap-8 relative\">\r\n        <div className=\"absolute top-8 right-8\">\r\n          <button\r\n            onClick={() => setIsModalOpen(true)}\r\n            className=\"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600\"\r\n          >\r\n            Vaccination Schedule\r\n          </button>\r\n          {isAllVaccinated && (\r\n            <button\r\n              onClick={() =>\r\n                router.push(`/home/about?infantId=${infantData.id}`)\r\n              }\r\n              className=\"px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 ml-3\"\r\n            >\r\n              Vaccine Form\r\n            </button>\r\n          )}\r\n        </div>\r\n        <InformationCard title=\"Personal Information\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div className=\"flex items-center\">\r\n              {/* eslint-disable-next-line @next/next/no-img-element */}\r\n              <img\r\n                src={infantData.image}\r\n                alt=\"Infant\"\r\n                className=\"w-32 h-32 rounded-full object-cover mr-4\"\r\n              />\r\n              <div>\r\n                <p className=\"text-xl font-semibold\">{infantData.fullname}</p>\r\n                <p className=\"text-gray-600\">{infantData.gender}</p>\r\n              </div>\r\n            </div>\r\n            <div className=\"space-y-2\">\r\n              <p>\r\n                <span className=\"font-semibold\">Height:</span>{\" \"}\r\n                {infantData.height} cm\r\n              </p>\r\n              <p>\r\n                <span className=\"font-semibold\">Weight:</span>{\" \"}\r\n                {infantData.weight} kg\r\n              </p>\r\n              <p>\r\n                <span className=\"font-semibold\">Health Center:</span>{\" \"}\r\n                {infantData.health_center}\r\n              </p>\r\n              <p>\r\n                <span className=\"font-semibold\">Family Number:</span>{\" \"}\r\n                {infantData.family_no}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </InformationCard>\r\n        <InformationCard title=\"Parent Information\">\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n            <div>\r\n              <p>\r\n                <span className=\"font-semibold\">Mothers Name:</span>{\" \"}\r\n                {infantData.mothers_name}\r\n              </p>\r\n              <p>\r\n                <span className=\"font-semibold\">Fathers Name:</span>{\" \"}\r\n                {infantData.fathers_name}\r\n              </p>\r\n            </div>\r\n            <div>\r\n              <p>\r\n                <span className=\"font-semibold\">Parent Email:</span>{\" \"}\r\n                {parent?.auth?.email}\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </InformationCard>\r\n        <InformationCard title=\"Address\">\r\n          <p>\r\n            {address?.purok}, {address?.baranggay}, {address?.municipality},{\" \"}\r\n            {address?.province}\r\n          </p>\r\n        </InformationCard>\r\n        <InformationCard title=\"Birthday Details\">\r\n          <p>\r\n            {getMonthName(birthday?.month)} {birthday?.day}, {birthday?.year}\r\n          </p>\r\n          <p className=\"mt-2\">\r\n            <span className=\"font-semibold\">Place of Birth:</span>{\" \"}\r\n            {infantData.place_of_birth}\r\n          </p>\r\n        </InformationCard>\r\n        <VaccineChart data={chartData} />\r\n        <PredictiveAnalysis infantData={infantData} />\r\n        {!isLoading && !isError && infantData && (\r\n          <>\r\n            {/* Other components or information cards */}\r\n            <InfantDoseTimingAnalysis infantData={infantData} />\r\n          </>\r\n        )}\r\n        <VaccinationModal\r\n          isOpen={isModalOpen}\r\n          onClose={() => setIsModalOpen(false)}\r\n          schedules={sortedVaccinationSchedule}\r\n          handleUpdate={handleUpdate}\r\n          handleNotify={handleNotify}\r\n        />\r\n      </main>\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2504, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}