(()=>{var e={};e.id=876,e.ids=[876],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},8086:e=>{"use strict";e.exports=require("module")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},37692:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>i.a,__next_app__:()=>h,pages:()=>c,routeModule:()=>x,tree:()=>o});var a=r(70260),n=r(28203),s=r(25155),i=r.n(s),l=r(67292),d={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);r.d(t,d);let o=["",{children:["home",{children:["vaccine",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,43707)),"C:\\Users\\natha\\OneDrive\\Desktop\\infantguardadmin\\src\\app\\home\\vaccine\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"C:\\Users\\natha\\OneDrive\\Desktop\\infantguardadmin\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\natha\\OneDrive\\Desktop\\infantguardadmin\\src\\app\\home\\vaccine\\page.tsx"],h={require:r,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:n.RouteKind.APP_PAGE,page:"/home/vaccine/page",pathname:"/home/vaccine",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},29487:(e,t,r)=>{Promise.resolve().then(r.bind(r,43707))},89319:(e,t,r)=>{Promise.resolve().then(r.bind(r,96535))},96535:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>u});var a=r(45512),n=r(99792),s=r(22660),i=r(21474),l=r(89633),d=r(58009),o=r.n(d),c=r(41561),h=r(2835),x=r(47630);let p={border:"1px solid #000",padding:"4px",backgroundColor:"#f0f0f0",fontWeight:"bold"},m={border:"1px solid #000",padding:"4px"},u=()=>{let{infantDataDownload:e}=(0,i.A)(),{data:t,isLoading:r,isError:u,error:g}=(0,l.I)({queryKey:["infant-data"],queryFn:e}),[f,b]=(0,d.useState)("All"),v=(0,d.useMemo)(()=>t?.data?Array.from(new Set(t.data.map(e=>e.address?.baranggay).filter(Boolean))):[],[t]),y=(0,d.useMemo)(()=>t?.data?"All"===f?t.data:t.data.filter(e=>e.address?.baranggay===f):[],[t,f]),j=y?.[0]?.address,N=e=>e?new Date(e).toLocaleDateString():"N/A",w=e=>e?`${e.month}/${e.day}/${e.year}`:"N/A",A=e=>{if(!e)return"N/A";let t=new Date(e.year,e.month-1,e.day),r=new Date;return 12*(r.getFullYear()-t.getFullYear())+(r.getMonth()-t.getMonth())},C=e=>{let t=e.vaccine_names?.[0]?.frequency||0,r=[];for(let a=1;a<=t;a++){let t,n;switch(a){case 1:t="1st Dose",n=e.UpdateFirstDose;break;case 2:t="2nd Dose",n=e.UpdateSecondDose;break;case 3:t="3rd Dose",n=e.UpdateThirdDose;break;default:t="",n=null}n?r.push({text:`${t} - ${N(n)}`,hasDate:!0}):r.push({text:`${t} - Not yet Updated`,hasDate:!1})}return r},k=e=>[...e].sort((e,t)=>parseInt(e.vaccine_names?.[0]?.vaccine_type_code||"0",10)-parseInt(t.vaccine_names?.[0]?.vaccine_type_code||"0",10)),D=(y?.[0]?.Vaccination_Schedule?k(y[0].Vaccination_Schedule):[]).map(e=>e.vaccine_names?.[0]?.vaccine_name||"Vaccine");return r?(0,a.jsx)("div",{children:"Loading..."}):u?(0,a.jsxs)("div",{children:["Error: ",g instanceof Error?g.message:"An error occurred"]}):(0,a.jsxs)("div",{className:"grid grid-cols-[250px_1fr] grid-rows-[1fr_auto] min-h-screen",children:[(0,a.jsx)(s.A,{}),(0,a.jsxs)("main",{className:"p-8 sm:p-20 font-[family-name:var(--font-geist-sans)] flex flex-col gap-8",children:[(0,a.jsxs)("header",{className:"flex items-center justify-between mb-8",children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)("button",{onClick:()=>{let e=document.getElementById("pdf-template");e&&(0,h.default)(e,{scale:2,useCORS:!0,allowTaint:!0}).then(e=>{let t=e.toDataURL("image/png"),r=new c.uE("l","pt","a4"),a=r.internal.pageSize.getWidth(),n=e.height*a/e.width;r.addImage(t,"PNG",0,0,a,n),r.save("immunization-records.pdf")})},className:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Download"})}),(0,a.jsx)("div",{className:"text-center flex-1",children:(0,a.jsx)("h1",{className:"text-2xl font-bold",children:"BASELINE WEIGHT AND IMMUNIZATION RECORDS OF PRESCHOOL CHILDREN"})}),(0,a.jsxs)("div",{className:"flex flex-col items-end",children:["All"===f?(0,a.jsx)("div",{className:"text-sm font-semibold",children:"Ligao City Albay"}):j&&(0,a.jsxs)("div",{className:"text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Baranggay:"})," ",j.baranggay]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Municipality:"})," ",j.municipality]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-semibold",children:"Province:"})," ",j.province]})]}),(0,a.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[(0,a.jsx)("label",{htmlFor:"baranggay-select",className:"text-sm font-medium whitespace-nowrap",children:"Filter by Baranggay:"}),(0,a.jsxs)("select",{id:"baranggay-select",value:f,onChange:e=>b(e.target.value),className:"border rounded px-2 py-1 text-sm",children:[(0,a.jsx)("option",{value:"All",children:"All"}),v.map((e,t)=>(0,a.jsx)("option",{value:e,children:e},t))]})]})]})]}),(0,a.jsx)("div",{id:"downloadable-table",children:(0,a.jsxs)(x.XI,{className:"shadow rounded",children:[(0,a.jsx)(x.A0,{className:"bg-gray-200",children:(0,a.jsxs)(x.Hj,{children:[(0,a.jsx)(x.nd,{children:"Mother's Name"}),(0,a.jsx)(x.nd,{children:"Child's Name"}),(0,a.jsx)(x.nd,{children:"Birthday"}),D.map((e,t)=>(0,a.jsx)(x.nd,{children:e},t)),(0,a.jsx)(x.nd,{children:"Age (Months)"}),(0,a.jsx)(x.nd,{children:"Weight"}),(0,a.jsx)(x.nd,{children:"Height"})]})}),(0,a.jsx)(x.BF,{children:y.map(e=>{let t=k(e.Vaccination_Schedule);return(0,a.jsxs)(x.Hj,{children:[(0,a.jsx)(x.nA,{children:e.mothers_name}),(0,a.jsx)(x.nA,{children:e.fullname}),(0,a.jsx)(x.nA,{children:w(e.birthday)}),t.map((e,t)=>(0,a.jsx)(x.nA,{children:C(e).map((e,t,r)=>(0,a.jsxs)(o().Fragment,{children:[(0,a.jsx)("div",{style:{backgroundColor:e.hasDate?"#d4edda":"#f8d7da",padding:"4px"},children:e.text}),t<r.length-1&&(0,a.jsx)("hr",{style:{margin:"4px 0",borderTop:"1px solid #ccc"}})]},t))},t)),(0,a.jsx)(x.nA,{children:A(e.birthday)}),(0,a.jsxs)(x.nA,{children:[e.weight," kg"]}),(0,a.jsxs)(x.nA,{children:[e.height," cm"]})]},e.id)})})]})})]}),(0,a.jsx)(n.A,{}),(0,a.jsxs)("div",{id:"pdf-template",style:{position:"absolute",left:"-9999px",width:"1122px",height:"793px",padding:"20px",boxSizing:"border-box"},children:[(0,a.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[(0,a.jsx)("div",{style:{fontSize:"14px",fontWeight:"bold",textAlign:"center",flex:1},children:"BASELINE WEIGHT AND IMMUNIZATION RECORDS OF PRESCHOOL CHILDREN"}),"All"===f?(0,a.jsx)("div",{style:{textAlign:"right",fontSize:"10px"},children:(0,a.jsx)("strong",{children:"Ligao City Albay"})}):j&&(0,a.jsxs)("div",{style:{textAlign:"right",fontSize:"10px"},children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Baranggay:"})," ",j.baranggay]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Municipality:"})," ",j.municipality]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:"Province:"})," ",j.province]})]})]}),(0,a.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"10px"},children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{style:p,children:"Mother's Name"}),(0,a.jsx)("th",{style:p,children:"Child's Name"}),(0,a.jsx)("th",{style:p,children:"Birthday"}),D.map((e,t)=>(0,a.jsx)("th",{style:p,children:e},t)),(0,a.jsx)("th",{style:p,children:"Age (Months)"}),(0,a.jsx)("th",{style:p,children:"Weight"}),(0,a.jsx)("th",{style:p,children:"Height"})]})}),(0,a.jsx)("tbody",{children:y.map(e=>{let t=k(e.Vaccination_Schedule);return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{style:m,children:e.mothers_name}),(0,a.jsx)("td",{style:m,children:e.fullname}),(0,a.jsx)("td",{style:m,children:w(e.birthday)}),t.map((e,t)=>(0,a.jsx)("td",{style:m,children:C(e).map((e,t,r)=>(0,a.jsxs)(o().Fragment,{children:[(0,a.jsx)("div",{style:{backgroundColor:e.hasDate?"#d4edda":"#f8d7da",padding:"2px"},children:e.text}),t<r.length-1&&(0,a.jsx)("hr",{style:{margin:"4px 0",borderTop:"1px solid #000"}})]},t))},t)),(0,a.jsx)("td",{style:m,children:A(e.birthday)}),(0,a.jsxs)("td",{style:m,children:[e.weight," kg"]}),(0,a.jsxs)("td",{style:m,children:[e.height," cm"]})]},e.id)})})]})]})]})}},99792:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});var a=r(45512);r(58009);let n=()=>(0,a.jsx)("footer",{className:"col-span-2 bg-gray-800 text-white p-2 text-center sticky bottom-0",children:"Infant Guard Capstone Project 2025"})},22660:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var a=r(45512);r(58009);var n=r(39400),s=r(79334),i=r(12026);function l(){let{updateAuthToken:e}=(0,i.A)(),t=(0,s.useRouter)(),r=()=>localStorage.removeItem("authToken"),l=async()=>{r(),await e(null),t.replace("/auth/login")};return(0,a.jsx)("div",{children:(0,a.jsx)(n.$,{onClick:l,variant:"secondary",size:"lg",className:"bg-[#23966d]",children:"Logout"})})}let d=()=>{let e=(0,s.useRouter)(),t=(0,s.usePathname)(),r=t=>{e.push(t)};return(0,a.jsxs)("aside",{className:"bg-[#ffbd5f] text-black p-3 h-full sticky top-0",children:[(0,a.jsx)("p",{className:"mb-20 text-2xl font-bold",children:"Admin Dashboard"}),(0,a.jsxs)("nav",{className:"flex flex-col gap-2",children:[(0,a.jsx)("button",{onClick:()=>r("/home"),className:`px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-200 text-left text-lg font-bold ${"/"===t||"/home"===t?"bg-gray-800 text-blue-400":""}`,children:"Home"}),(0,a.jsx)("button",{onClick:()=>r("/home/parent"),className:`px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-200 text-left text-lg font-bold ${"/home/parent"===t?"bg-gray-800 text-blue-400":""}`,children:"Parent Management"}),(0,a.jsx)("button",{onClick:()=>r("/home/infant"),className:`px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-200 text-left text-lg font-bold ${"/home/infant"===t?"bg-gray-800 text-blue-400":""}`,children:"Infant Management"}),(0,a.jsx)("button",{onClick:()=>r("/home/vaccine"),className:`px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-200 text-left text-lg font-bold ${"/home/vaccine"===t?"bg-gray-800 text-blue-400":""}`,children:"Download Data"}),(0,a.jsx)("button",{onClick:()=>r("/home/about"),className:`px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-200 text-left text-lg font-bold ${"/about"===t?"bg-gray-800 text-blue-400":""}`,children:"Download Vaccine Form"}),(0,a.jsx)("button",{onClick:()=>r("/contact"),className:`px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-200 text-left text-lg font-bold ${"/contact"===t?"bg-gray-800 text-blue-400":""}`,children:"Contact Us"})]}),(0,a.jsx)("div",{className:"mt-10 align-middle",children:(0,a.jsx)(l,{})})]})}},39400:(e,t,r)=>{"use strict";r.d(t,{$:()=>o,r:()=>d});var a=r(45512),n=r(58009),s=r(12705),i=r(21643),l=r(44195);let d=(0,i.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=n.forwardRef(({className:e,variant:t,size:r,asChild:n=!1,...i},o)=>{let c=n?s.DX:"button";return(0,a.jsx)(c,{className:(0,l.cn)(d({variant:t,size:r,className:e})),ref:o,...i})});o.displayName="Button"},47630:(e,t,r)=>{"use strict";r.d(t,{A0:()=>l,BF:()=>d,Hj:()=>o,XI:()=>i,nA:()=>h,nd:()=>c});var a=r(45512),n=r(58009),s=r(44195);let i=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:r,className:(0,s.cn)("w-full caption-bottom text-sm",e),...t})}));i.displayName="Table";let l=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)("thead",{ref:r,className:(0,s.cn)("[&_tr]:border-b",e),...t}));l.displayName="TableHeader";let d=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)("tbody",{ref:r,className:(0,s.cn)("[&_tr:last-child]:border-0",e),...t}));d.displayName="TableBody",n.forwardRef(({className:e,...t},r)=>(0,a.jsx)("tfoot",{ref:r,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let o=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)("tr",{ref:r,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));o.displayName="TableRow";let c=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)("th",{ref:r,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));c.displayName="TableHead";let h=n.forwardRef(({className:e,...t},r)=>(0,a.jsx)("td",{ref:r,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));h.displayName="TableCell",n.forwardRef(({className:e,...t},r)=>(0,a.jsx)("caption",{ref:r,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},44195:(e,t,r)=>{"use strict";r.d(t,{cn:()=>s});var a=r(82281),n=r(94805);function s(...e){return(0,n.QP)((0,a.$)(e))}},43707:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});let a=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\natha\\\\OneDrive\\\\Desktop\\\\infantguardadmin\\\\src\\\\app\\\\home\\\\vaccine\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\natha\\OneDrive\\Desktop\\infantguardadmin\\src\\app\\home\\vaccine\\page.tsx","default")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});var a=r(88077);let n=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,a.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[638,778,77,603,561,624],()=>r(37692));module.exports=a})();