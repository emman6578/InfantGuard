(()=>{var e={};e.id=620,e.ids=[620],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},33873:e=>{"use strict";e.exports=require("path")},79551:e=>{"use strict";e.exports=require("url")},49964:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>s.a,__next_app__:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>c});var n=r(70260),a=r(28203),i=r(25155),s=r.n(i),o=r(67292),l={};for(let e in o)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);r.d(t,l);let c=["",{children:["home",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,26851)),"C:\\Users\\natha\\OneDrive\\Desktop\\infantguardadmin\\src\\app\\home\\page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,71354)),"C:\\Users\\natha\\OneDrive\\Desktop\\infantguardadmin\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["C:\\Users\\natha\\OneDrive\\Desktop\\infantguardadmin\\src\\app\\home\\page.tsx"],u={require:r,loadChunk:()=>Promise.resolve()},m=new n.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/home/page",pathname:"/home",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},77530:(e,t,r)=>{Promise.resolve().then(r.bind(r,26851))},17698:(e,t,r)=>{Promise.resolve().then(r.bind(r,46588))},46588:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>ee});var n=r(45512),a=r(58009),i=r.n(a),s=r(89633),o=r(23081),l=r(15980),c=r(26507),d=r(11452),u=r(1263),m=r(707),p=r(14169),h=r(94199),x=r(14449),f=r(50218),g=r.n(f),y=r(80739),v=r.n(y),b=r(95936),j=r.n(b),N=r(82281),w=r(12599),A=r(13753),k=r(41681),P=r(77414),S=r(1370),O=r(97436),D=r(8057),C=r(28682),E=r(55145),_=["type","layout","connectNulls","ref"],I=["key"];function L(e){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){if(t.indexOf(n)>=0)continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function F(){return(F=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function R(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach(function(t){W(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function $(e){return function(e){if(Array.isArray(e))return q(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return q(e,void 0);var r=Object.prototype.toString.call(e).slice(8,-1);if("Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return q(e,void 0)}}(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function z(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,B(n.key),n)}}function V(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(V=function(){return!!e})()}function G(e){return(G=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function K(e,t){return(K=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function W(e,t,r){return(t=B(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e){var t=function(e,t){if("object"!=L(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=L(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==L(t)?t:t+""}var U=function(e){var t,r;function n(){!function(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}(this,n);for(var e,t,r,a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];return t=n,r=[].concat(i),t=G(t),W(e=function(e,t){if(t&&("object"===L(t)||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,V()?Reflect.construct(t,r||[],G(this).constructor):t.apply(this,r)),"state",{isAnimationFinished:!0,totalLength:0}),W(e,"generateSimpleStrokeDasharray",function(e,t){return"".concat(t,"px ").concat(e-t,"px")}),W(e,"getStrokeDasharray",function(t,r,a){var i=a.reduce(function(e,t){return e+t});if(!i)return e.generateSimpleStrokeDasharray(r,t);for(var s=Math.floor(t/i),o=t%i,l=r-t,c=[],d=0,u=0;d<a.length;u+=a[d],++d)if(u+a[d]>o){c=[].concat($(a.slice(0,d)),[o-u]);break}var m=c.length%2==0?[0,l]:[l];return[].concat($(n.repeat(a,s)),$(c),m).map(function(e){return"".concat(e,"px")}).join(", ")}),W(e,"id",(0,O.NF)("recharts-line-")),W(e,"pathRef",function(t){e.mainCurve=t}),W(e,"handleAnimationEnd",function(){e.setState({isAnimationFinished:!0}),e.props.onAnimationEnd&&e.props.onAnimationEnd()}),W(e,"handleAnimationStart",function(){e.setState({isAnimationFinished:!1}),e.props.onAnimationStart&&e.props.onAnimationStart()}),e}return function(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}(n,e),t=[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();this.setState({totalLength:e})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var e=this.getTotalLength();e!==this.state.totalLength&&this.setState({totalLength:e})}}},{key:"getTotalLength",value:function(){var e=this.mainCurve;try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch(e){return 0}}},{key:"renderErrorBar",value:function(e,t){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var r=this.props,n=r.points,a=r.xAxis,s=r.yAxis,o=r.layout,l=r.children,c=(0,D.aS)(l,S.u);if(!c)return null;var d=function(e,t){return{x:e.x,y:e.y,value:e.value,errorVal:(0,E.kr)(e.payload,t)}};return i().createElement(k.W,{clipPath:e?"url(#clipPath-".concat(t,")"):null},c.map(function(e){return i().cloneElement(e,{key:"bar-".concat(e.props.dataKey),data:n,xAxis:a,yAxis:s,layout:o,dataPointFormatter:d})}))}},{key:"renderDots",value:function(e,t,r){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,s=a.dot,o=a.points,l=a.dataKey,c=(0,D.J9)(this.props,!1),d=(0,D.J9)(s,!0),u=o.map(function(e,t){var r=R(R(R({key:"dot-".concat(t),r:3},c),d),{},{value:e.value,dataKey:l,cx:e.x,cy:e.y,index:t,payload:e.payload});return n.renderDotItem(s,r)}),m={clipPath:e?"url(#clipPath-".concat(t?"":"dots-").concat(r,")"):null};return i().createElement(k.W,F({className:"recharts-line-dots",key:"dots"},m),u)}},{key:"renderCurveStatically",value:function(e,t,r,n){var a=this.props,s=a.type,o=a.layout,l=a.connectNulls,c=(a.ref,T(a,_)),d=R(R(R({},(0,D.J9)(c,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:t?"url(#clipPath-".concat(r,")"):null,points:e},n),{},{type:s,layout:o,connectNulls:l});return i().createElement(w.I,F({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(e,t){var r=this,n=this.props,a=n.points,s=n.strokeDasharray,o=n.isAnimationActive,l=n.animationBegin,c=n.animationDuration,d=n.animationEasing,u=n.animationId,m=n.animateNewValues,p=n.width,h=n.height,f=this.state,g=f.prevPoints,y=f.totalLength;return i().createElement(x.Ay,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"line-".concat(u),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(n){var i,o=n.t;if(g){var l=g.length/a.length,c=a.map(function(e,t){var r=Math.floor(t*l);if(g[r]){var n=g[r],a=(0,O.Dj)(n.x,e.x),i=(0,O.Dj)(n.y,e.y);return R(R({},e),{},{x:a(o),y:i(o)})}if(m){var s=(0,O.Dj)(2*p,e.x),c=(0,O.Dj)(h/2,e.y);return R(R({},e),{},{x:s(o),y:c(o)})}return R(R({},e),{},{x:e.x,y:e.y})});return r.renderCurveStatically(c,e,t)}var d=(0,O.Dj)(0,y)(o);if(s){var u="".concat(s).split(/[,\s]+/gim).map(function(e){return parseFloat(e)});i=r.getStrokeDasharray(d,y,u)}else i=r.generateSimpleStrokeDasharray(y,d);return r.renderCurveStatically(a,e,t,{strokeDasharray:i})})}},{key:"renderCurve",value:function(e,t){var r=this.props,n=r.points,a=r.isAnimationActive,i=this.state,s=i.prevPoints,o=i.totalLength;return a&&n&&n.length&&(!s&&o>0||!j()(s,n))?this.renderCurveWithAnimation(e,t):this.renderCurveStatically(n,e,t)}},{key:"render",value:function(){var e,t=this.props,r=t.hide,n=t.dot,a=t.points,s=t.className,o=t.xAxis,l=t.yAxis,c=t.top,d=t.left,u=t.width,m=t.height,p=t.isAnimationActive,h=t.id;if(r||!a||!a.length)return null;var x=this.state.isAnimationFinished,f=1===a.length,g=(0,N.A)("recharts-line",s),y=o&&o.allowDataOverflow,b=l&&l.allowDataOverflow,j=y||b,w=v()(h)?this.id:h,A=null!==(e=(0,D.J9)(n,!1))&&void 0!==e?e:{r:3,strokeWidth:2},S=A.r,O=A.strokeWidth,C=((0,D.sT)(n)?n:{}).clipDot,E=void 0===C||C,_=2*(void 0===S?3:S)+(void 0===O?2:O);return i().createElement(k.W,{className:g},y||b?i().createElement("defs",null,i().createElement("clipPath",{id:"clipPath-".concat(w)},i().createElement("rect",{x:y?d:d-u/2,y:b?c:c-m/2,width:y?u:2*u,height:b?m:2*m})),!E&&i().createElement("clipPath",{id:"clipPath-dots-".concat(w)},i().createElement("rect",{x:d-_/2,y:c-_/2,width:u+_,height:m+_}))):null,!f&&this.renderCurve(j,w),this.renderErrorBar(j,w),(f||n)&&this.renderDots(j,E,w),(!p||x)&&P.Z.renderCallByParent(this.props,a))}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){return e.animationId!==t.prevAnimationId?{prevAnimationId:e.animationId,curPoints:e.points,prevPoints:t.curPoints}:e.points!==t.curPoints?{curPoints:e.points}:null}},{key:"repeat",value:function(e,t){for(var r=e.length%2!=0?[].concat($(e),[0]):e,n=[],a=0;a<t;++a)n=[].concat($(n),$(r));return n}},{key:"renderDotItem",value:function(e,t){var r;if(i().isValidElement(e))r=i().cloneElement(e,t);else if(g()(e))r=e(t);else{var n=t.key,a=T(t,I),s=(0,N.A)("recharts-line-dot","boolean"!=typeof e?e.className:"");r=i().createElement(A.c,F({key:n},a,{className:s}))}return r}}],t&&z(n.prototype,t),r&&z(n,r),Object.defineProperty(n,"prototype",{writable:!1}),n}(a.PureComponent);W(U,"displayName","Line"),W(U,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!C.m.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1}),W(U,"getComposedData",function(e){var t=e.props,r=e.xAxis,n=e.yAxis,a=e.xAxisTicks,i=e.yAxisTicks,s=e.dataKey,o=e.bandSize,l=e.displayedData,c=e.offset,d=t.layout;return R({points:l.map(function(e,t){var l=(0,E.kr)(e,s);return"horizontal"===d?{x:(0,E.nb)({axis:r,ticks:a,bandSize:o,entry:e,index:t}),y:v()(l)?null:n.scale(l),value:l,payload:e}:{x:v()(l)?null:r.scale(l),y:(0,E.nb)({axis:n,ticks:i,bandSize:o,entry:e,index:t}),value:l,payload:e}}),layout:d},c)});var J=r(6070),X=(0,h.gu)({chartName:"LineChart",GraphicalChild:U,axisComponents:[{axisType:"xAxis",AxisComp:d.W},{axisType:"yAxis",AxisComp:u.h}],formatAxisMap:J.pr}),H=r(22660),Q=r(99792);function Z({notifications:e}){return(0,n.jsxs)("section",{className:"bg-white shadow rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Notifications"}),(0,n.jsx)("div",{className:"space-y-4",children:e?.map(e=>n.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[n.jsxs("div",{className:"flex justify-between items-center",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:e.title}),n.jsx("span",{className:"text-sm text-gray-500",children:new Date(e?.created).toLocaleString()})]}),n.jsx("p",{className:"mt-2 text-gray-700",children:e.body}),n.jsxs("p",{className:"mt-1 text-sm text-gray-600",children:["Parent: ",e?.parent?.fullname]})]},e.id))})]})}var Y=r(21474);function ee(){let{getAdminDataDashBoard:e,vaccinePercentageRoutes:t}=(0,Y.A)(),[r,i]=(0,a.useState)("all"),[h,x]=(0,a.useState)("all"),[f,g]=(0,a.useState)("all"),{data:y,isLoading:v,isError:b,error:j}=(0,s.I)({queryKey:["admin"],queryFn:e}),{data:N,isLoading:w,isError:A,error:k}=(0,s.I)({queryKey:["percentage"],queryFn:t}),P=e=>{if("all"!==r&&e.gender!==r)return!1;if("all"!==h&&"all"!==f){let t=e.address&&e.address[h];if(!t||t.toLowerCase()!==f.toLowerCase())return!1}return!0},S=y?.infants?y.infants.filter(P):[],O=N?.data?N.data.filter(P):[],D=(0,a.useMemo)(()=>{if("all"===h||!y?.infants)return[];let e=new Set;return y.infants.forEach(t=>{let r=t.address&&t.address[h];r&&e.add(r)}),Array.from(e)},[y,h]),[C,E]=(0,a.useState)(null),_=(()=>{if(!O)return[];let e=new Map;return O.forEach(t=>{t.vaccinationSched?.forEach(t=>{let r=t.vaccineName||"";e.has(r)||e.set(r,{vaccineName:r,sort:t.sort?parseInt(t.sort):0,percentages:[],min:100,max:0,avg:0});let n=e.get(r);n.percentages?.push(t.percentage||0),n.min=Math.min(n.min||100,t.percentage||0),n.max=Math.max(n.max||0,t.percentage||0)})}),Array.from(e.values()).forEach(e=>{e.percentages&&e.percentages.length>0&&(e.avg=e.percentages.reduce((e,t)=>e+t,0)/e.percentages.length)}),Array.from(e.values()).sort((e,t)=>(e.sort||0)-(t.sort||0))})(),I=C&&O?O.map(e=>({name:e?.fullname,percentage:e?.vaccinationSched?.find(e=>e.vaccineName===C)?.percentage||0})).sort((e,t)=>(t.percentage||0)-(e.percentage||0)):[];return(0,n.jsxs)("div",{className:"grid grid-cols-[250px_1fr] grid-rows-[1fr_auto] min-h-screen bg-[#026167]",children:[(0,n.jsx)(H.A,{}),(0,n.jsxs)("main",{className:"p-8 sm:p-20 font-[family-name:var(--font-geist-sans)]",children:[(0,n.jsx)("div",{className:"flex justify-end mb-8",children:(0,n.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:[(0,n.jsxs)("select",{className:"p-2 border rounded w-full sm:w-auto",value:r,onChange:e=>i(e.target.value),children:[(0,n.jsx)("option",{value:"all",children:"All Genders"}),(0,n.jsx)("option",{value:"Male",children:"Male"}),(0,n.jsx)("option",{value:"Female",children:"Female"})]}),(0,n.jsxs)("select",{className:"p-2 border rounded w-full sm:w-auto",value:h,onChange:e=>{x(e.target.value),g("all")},children:[(0,n.jsx)("option",{value:"all",children:"All Addresses"}),(0,n.jsx)("option",{value:"purok",children:"Purok"}),(0,n.jsx)("option",{value:"baranggay",children:"Baranggay"}),(0,n.jsx)("option",{value:"municipality",children:"Municipality"}),(0,n.jsx)("option",{value:"province",children:"Province"})]}),"all"!==h&&(0,n.jsxs)("select",{className:"p-2 border rounded w-full sm:w-auto",value:f,onChange:e=>g(e.target.value),children:[(0,n.jsx)("option",{value:"all",children:"All"}),D.map(e=>(0,n.jsx)("option",{value:e,children:e},e))]})]})}),v?(0,n.jsx)("div",{className:"flex items-center justify-center bg-white shadow rounded-lg p-6",children:"Loading dashboard data..."}):b?(0,n.jsxs)("div",{className:"flex items-center justify-center bg-white shadow rounded-lg p-6 text-red-500",children:["Error: ",j?.message]}):(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[70%_30%] gap-8",children:[(0,n.jsxs)("div",{className:"space-y-8",children:[(0,n.jsxs)("div",{className:"w-full space-y-8",children:[(0,n.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,n.jsxs)("h1",{className:"text-2xl font-bold mb-4",children:["Vaccination Coverage"," ",O?`(${O.length} Infants)`:""]}),w?(0,n.jsx)("p",{children:"Loading vaccine graph data..."}):A?(0,n.jsxs)("p",{className:"text-red-500",children:["Error: ",k?.message]}):(0,n.jsx)("div",{className:"h-[400px]",children:(0,n.jsx)(o.u,{width:"100%",height:"100%",children:(0,n.jsxs)(l.E,{data:_,margin:{top:20,right:30,left:20,bottom:80},children:[(0,n.jsx)(c.d,{strokeDasharray:"3 3"}),(0,n.jsx)(d.W,{dataKey:"vaccineName",angle:-20,textAnchor:"end",interval:0,tick:{fontSize:12}}),(0,n.jsx)(u.h,{domain:[0,100],tickFormatter:e=>`${e}%`}),(0,n.jsx)(m.m,{content:({active:e,payload:t})=>e&&t&&t.length?(0,n.jsxs)("div",{className:"bg-white p-4 shadow-lg rounded-lg",children:[(0,n.jsx)("p",{className:"font-bold",children:t[0].payload.vaccineName}),(0,n.jsxs)("p",{children:["Average:"," ",t[0].payload.avg?.toFixed(1),"%"]}),(0,n.jsxs)("p",{children:["Range: ",t[0].payload.min,"% -"," ",t[0].payload.max,"%"]}),(0,n.jsx)("button",{className:"mt-2 text-blue-600 hover:underline",onClick:()=>E(t[0].payload.vaccineName),children:"Show individual data â†’"})]}):null}),(0,n.jsx)(p.y,{dataKey:"avg",name:"Average Coverage",fill:"#004749",onClick:e=>E(e.vaccineName)})]})})})]}),(0,n.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-xl font-bold mb-4",children:C?`${C} Coverage`:"Individual Vaccine Drill Down"}),C?(0,n.jsxs)("div",{className:"h-[400px]",children:[(0,n.jsx)(o.u,{width:"100%",height:"100%",children:(0,n.jsxs)(X,{data:I,margin:{top:20,right:30,left:20,bottom:80},children:[(0,n.jsx)(c.d,{strokeDasharray:"3 3"}),(0,n.jsx)(d.W,{dataKey:"name",hide:!0}),(0,n.jsx)(u.h,{domain:[0,100],tickFormatter:e=>`${e}%`}),(0,n.jsx)(m.m,{formatter:e=>[`${e}%`,"Coverage"]}),(0,n.jsx)(U,{type:"monotone",dataKey:"percentage",stroke:"#004749",dot:{r:5}})]})}),(0,n.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["Showing ",I.length," infants, sorted by coverage percentage"]})]}):(0,n.jsx)("div",{className:"h-[400px] flex items-center justify-center border border-dashed border-gray-300 rounded p-4",children:(0,n.jsx)("p",{children:"Please select a vaccine from the chart above to see individual data."})})]})]}),(0,n.jsxs)("div",{className:"space-y-12",children:[(0,n.jsxs)("section",{className:"bg-white shadow rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Overview"}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,n.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg text-center",children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-600",children:"Total Parents"}),(0,n.jsx)("p",{className:"text-4xl font-bold text-blue-500 mt-2",children:y?.overview?.totalParents})]}),(0,n.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg text-center",children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-600",children:"Total Infants"}),(0,n.jsx)("p",{className:"text-4xl font-bold text-green-500 mt-2",children:y?.overview?.totalInfants})]}),(0,n.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg text-center",children:[(0,n.jsx)("h3",{className:"text-lg font-medium text-gray-600",children:"Total Vaccinations"}),(0,n.jsx)("p",{className:"text-4xl font-bold text-red-500 mt-2",children:y?.overview?.totalVaccinations})]})]})]}),(0,n.jsxs)("section",{className:"bg-white shadow rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Vaccination Summary"}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:y&&y.vaccinationSummary&&Object.entries(y.vaccinationSummary).map(([e,t])=>(0,n.jsxs)("div",{className:"p-4 bg-gray-50 rounded-lg",children:[(0,n.jsxs)("h3",{className:"text-lg font-medium capitalize mb-2",children:[e," Dose"]}),(0,n.jsxs)("ul",{className:"space-y-1",children:[(0,n.jsxs)("li",{children:[(0,n.jsx)("span",{className:"font-medium",children:"Done:"})," ",t?.DONE]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("span",{className:"font-medium",children:"Ongoing:"})," ",t?.ONGOING]}),(0,n.jsxs)("li",{children:[(0,n.jsx)("span",{className:"font-medium",children:"Not Done:"})," ",t?.NOT_DONE]})]})]},e))})]}),(0,n.jsxs)("section",{className:"bg-white shadow rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Recent Parents"}),(0,n.jsx)("div",{className:"overflow-x-auto",children:(0,n.jsxs)("table",{className:"min-w-full",children:[(0,n.jsx)("thead",{className:"bg-gray-100",children:(0,n.jsxs)("tr",{children:[(0,n.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Full Name"}),(0,n.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Role"}),(0,n.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Created"}),(0,n.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700",children:"Last Login"})]})}),(0,n.jsx)("tbody",{className:"divide-y divide-gray-200",children:y&&y.recentParents?.map(e=>n.jsxs("tr",{children:[n.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:e?.fullname}),n.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:e?.role}),n.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:e?.created?new Date(e.created).toLocaleDateString():"N/A"}),n.jsx("td",{className:"px-4 py-2 text-sm text-gray-900",children:e?.lastLogin?new Date(e.lastLogin).toLocaleDateString():"N/A"})]},e?.id))})]})})]}),(0,n.jsxs)("section",{className:"bg-white shadow rounded-lg p-6",children:[(0,n.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Infants & Vaccination Schedules"}),(0,n.jsx)("div",{className:"grid grid-cols-1 gap-6",children:S.map(e=>(0,n.jsxs)("div",{className:"flex flex-col md:flex-row items-center p-4 bg-gray-50 rounded-lg",children:[(0,n.jsx)("img",{src:e?.image,alt:e?.fullname||"Infant",className:"w-24 h-24 rounded-full object-cover mr-4"}),(0,n.jsxs)("div",{className:"w-full",children:[(0,n.jsx)("h3",{className:"text-xl font-medium text-gray-800",children:e?.fullname}),(0,n.jsx)("p",{className:"text-sm text-gray-500",children:e?.gender}),(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsx)("h4",{className:"text-lg font-semibold text-gray-600",children:"Vaccination Schedule:"}),(0,n.jsx)("ul",{className:"mt-1 space-y-1",children:e.vaccinationSched?.map((e,t)=>n.jsxs("li",{className:"text-sm text-gray-700",children:[e.vaccineName," - ",e.percentage,"% completed"]},t))}),(0,n.jsx)("div",{className:"mt-2 text-xs text-gray-500",children:(0,n.jsxs)("p",{children:[(0,n.jsx)("strong",{children:"Address:"})," ",e.address?.purok,","," ",e.address?.baranggay,","," ",e.address?.municipality,","," ",e.address?.province]})})]})]})]},e?.id))})]})]})]}),(0,n.jsx)("div",{children:(0,n.jsx)(Z,{notifications:y?.notifications})})]})]}),(0,n.jsx)(Q.A,{})]})}},99792:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});var n=r(45512);r(58009);let a=()=>(0,n.jsx)("footer",{className:"col-span-2 bg-gray-800 text-white p-2 text-center sticky bottom-0",children:"Infant Guard Capstone Project 2025"})},22660:(e,t,r)=>{"use strict";r.d(t,{A:()=>l});var n=r(45512);r(58009);var a=r(39400),i=r(79334),s=r(12026);function o(){let{updateAuthToken:e}=(0,s.A)(),t=(0,i.useRouter)(),r=()=>localStorage.removeItem("authToken"),o=async()=>{r(),await e(null),t.replace("/auth/login")};return(0,n.jsx)("div",{children:(0,n.jsx)(a.$,{onClick:o,variant:"secondary",size:"lg",className:"bg-[#23966d]",children:"Logout"})})}let l=()=>{let e=(0,i.useRouter)(),t=(0,i.usePathname)(),r=t=>{e.push(t)};return(0,n.jsxs)("aside",{className:"bg-[#ffbd5f] text-black p-3 h-full sticky top-0",children:[(0,n.jsx)("p",{className:"mb-20 text-2xl font-bold",children:"Admin Dashboard"}),(0,n.jsxs)("nav",{className:"flex flex-col gap-2",children:[(0,n.jsx)("button",{onClick:()=>r("/home"),className:`px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-200 text-left text-lg font-bold ${"/"===t||"/home"===t?"bg-gray-800 text-blue-400":""}`,children:"Home"}),(0,n.jsx)("button",{onClick:()=>r("/home/parent"),className:`px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-200 text-left text-lg font-bold ${"/home/parent"===t?"bg-gray-800 text-blue-400":""}`,children:"Parent Management"}),(0,n.jsx)("button",{onClick:()=>r("/home/infant"),className:`px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-200 text-left text-lg font-bold ${"/home/infant"===t?"bg-gray-800 text-blue-400":""}`,children:"Infant Management"}),(0,n.jsx)("button",{onClick:()=>r("/home/vaccine"),className:`px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-200 text-left text-lg font-bold ${"/home/vaccine"===t?"bg-gray-800 text-blue-400":""}`,children:"Download Data"}),(0,n.jsx)("button",{onClick:()=>r("/home/about"),className:`px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-200 text-left text-lg font-bold ${"/about"===t?"bg-gray-800 text-blue-400":""}`,children:"Download Vaccine Form"}),(0,n.jsx)("button",{onClick:()=>r("/contact"),className:`px-4 py-2 rounded hover:bg-gray-600 transition-colors duration-200 text-left text-lg font-bold ${"/contact"===t?"bg-gray-800 text-blue-400":""}`,children:"Contact Us"})]}),(0,n.jsx)("div",{className:"mt-10 align-middle",children:(0,n.jsx)(o,{})})]})}},39400:(e,t,r)=>{"use strict";r.d(t,{$:()=>c,r:()=>l});var n=r(45512),a=r(58009),i=r(12705),s=r(21643),o=r(44195);let l=(0,s.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef(({className:e,variant:t,size:r,asChild:a=!1,...s},c)=>{let d=a?i.DX:"button";return(0,n.jsx)(d,{className:(0,o.cn)(l({variant:t,size:r,className:e})),ref:c,...s})});c.displayName="Button"},44195:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var n=r(82281),a=r(94805);function i(...e){return(0,a.QP)((0,n.$)(e))}},26851:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n});let n=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\natha\\\\OneDrive\\\\Desktop\\\\infantguardadmin\\\\src\\\\app\\\\home\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\natha\\OneDrive\\Desktop\\infantguardadmin\\src\\app\\home\\page.tsx","default")},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var n=r(88077);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,n.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),n=t.X(0,[638,778,77,603,534,624],()=>r(49964));module.exports=n})();